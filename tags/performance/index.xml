<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Performance on firebirdãƒ†ã‚¯ãƒ†ã‚¯ãƒ†ã‚¯ãƒ–ãƒ­ã‚°</title><link>https://firebird-techtalktech.com/tags/performance/</link><description>Recent content in Performance on firebirdãƒ†ã‚¯ãƒ†ã‚¯ãƒ†ã‚¯ãƒ–ãƒ­ã‚°</description><generator>Hugo -- gohugo.io</generator><language>ja</language><copyright>ãƒˆãƒŸãƒ¼</copyright><lastBuildDate>Tue, 09 Sep 2025 00:07:56 +0900</lastBuildDate><atom:link href="https://firebird-techtalktech.com/tags/performance/index.xml" rel="self" type="application/rss+xml"/><item><title>ğŸ“° [Kubernetes] Kubernetes v1.34: PSI Metrics for Kubernetes Graduates to Beta</title><link>https://firebird-techtalktech.com/post/kubernetes-kubernetes-v1.34-psi-metrics-for-kubernetes-graduates-to-beta/</link><pubDate>Tue, 09 Sep 2025 00:07:56 +0900</pubDate><guid>https://firebird-techtalktech.com/post/kubernetes-kubernetes-v1.34-psi-metrics-for-kubernetes-graduates-to-beta/</guid><description>&lt;h2 id="æ¦‚è¦">æ¦‚è¦
&lt;/h2>&lt;p>As Kubernetes clusters grow in size and complexity, understanding the health and performance of individual nodes becomes increasingly critical. We are excited to announce that as of Kubernetes v1.34, &lt;strong>Pressure Stall Information (PSI) Metrics&lt;/strong> has graduated to Beta.&lt;/p>
&lt;h2 id="what...
&lt;hr>
&lt;p>ğŸ“Š &lt;strong>å‡ºå…¸&lt;/strong>: &lt;a class="link" href="https://kubernetes.io/blog/2025/09/04/kubernetes-v1-34-introducing-psi-metrics-beta/" target="_blank" rel="noopener"
>Kubernetes&lt;/a>&lt;br>
ğŸ“… &lt;strong>åé›†æ—¥&lt;/strong>: 2025å¹´09æœˆ09æ—¥&lt;/p>
&lt;p>&lt;a class="link" href="https://kubernetes.io/blog/2025/09/04/kubernetes-v1-34-introducing-psi-metrics-beta/" target="_blank" rel="noopener"
>ğŸ”— å…ƒè¨˜äº‹ã‚’èª­ã‚€&lt;/a>&lt;/p></description></item><item><title>ğŸ“° [Kubernetes] Kubernetes v1.34: PSI Metrics for Kubernetes Graduates to Beta</title><link>https://firebird-techtalktech.com/post/kubernetes-kubernetes-v1.34-psi-metrics-for-kubernetes-graduates-to-beta/</link><pubDate>Mon, 08 Sep 2025 00:26:15 +0900</pubDate><guid>https://firebird-techtalktech.com/post/kubernetes-kubernetes-v1.34-psi-metrics-for-kubernetes-graduates-to-beta/</guid><description>&lt;h2 id="æ¦‚è¦">æ¦‚è¦
&lt;/h2>&lt;p>As Kubernetes clusters grow in size and complexity, understanding the health and performance of individual nodes becomes increasingly critical. We are excited to announce that as of Kubernetes v1.34, &lt;strong>Pressure Stall Information (PSI) Metrics&lt;/strong> has graduated to Beta.&lt;/p>
&lt;h2 id="what...
&lt;hr>
&lt;p>ğŸ“Š &lt;strong>å‡ºå…¸&lt;/strong>: &lt;a class="link" href="https://kubernetes.io/blog/2025/09/04/kubernetes-v1-34-introducing-psi-metrics-beta/" target="_blank" rel="noopener"
>Kubernetes&lt;/a>&lt;br>
ğŸ“… &lt;strong>åé›†æ—¥&lt;/strong>: 2025å¹´09æœˆ08æ—¥&lt;/p>
&lt;p>&lt;a class="link" href="https://kubernetes.io/blog/2025/09/04/kubernetes-v1-34-introducing-psi-metrics-beta/" target="_blank" rel="noopener"
>ğŸ”— å…ƒè¨˜äº‹ã‚’èª­ã‚€&lt;/a>&lt;/p></description></item><item><title>Claude Codeã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– - ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåŠ£åŒ–ã‚’é˜²ãå®Œå…¨ã‚¬ã‚¤ãƒ‰</title><link>https://firebird-techtalktech.com/posts/claude-code-performance-optimization/</link><pubDate>Wed, 18 Sep 2024 11:00:00 +0900</pubDate><guid>https://firebird-techtalktech.com/posts/claude-code-performance-optimization/</guid><description>&lt;h2 id="ã¯ã˜ã‚ã«">ã¯ã˜ã‚ã«
&lt;/h2>&lt;p>Claude Codeã¯éå¸¸ã«å¼·åŠ›ãªAIé–‹ç™ºã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆãƒ„ãƒ¼ãƒ«ã§ã™ãŒã€ä½¿ç”¨ã‚’ç¶šã‘ã‚‹ã†ã¡ã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒåŠ£åŒ–ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ç‰¹ã«ã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®è‡ªå‹•è¦ç´„ã«ã‚ˆã‚‹ã€Œè¨˜æ†¶å–ªå¤±ã€ç¾è±¡ã¯ã€é–‹ç™ºåŠ¹ç‡ã«å¤§ããªå½±éŸ¿ã‚’ä¸ãˆã¾ã™ã€‚&lt;/p>
&lt;p>æœ¬è¨˜äº‹ã§ã¯ã€Claude Codeã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æœ€å¤§é™ã«å¼•ãå‡ºã™ãŸã‚ã®æœ€é©åŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’è©³ã—ãè§£èª¬ã—ã¾ã™ã€‚&lt;/p>
&lt;h2 id="claude-codeã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ">Claude Codeã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ
&lt;/h2>&lt;h3 id="ä¸»ãªå•é¡Œç‚¹">ä¸»ãªå•é¡Œç‚¹
&lt;/h3>&lt;h4 id="1-ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®åŠ£åŒ–">1. ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®åŠ£åŒ–
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>ç—‡çŠ¶&lt;/strong>: ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒé•·ããªã‚‹ã¨LLMã®å‡¦ç†ã‚³ã‚¹ãƒˆãŒæŒ‡æ•°é–¢æ•°çš„ã«å¢—åŠ &lt;/li>
&lt;li>&lt;strong>å½±éŸ¿&lt;/strong>: Claude CodeãŒéå»ã®ãƒ•ã‚¡ã‚¤ãƒ«å‚ç…§ã‚„ãƒ„ãƒ¼ãƒ«ä½¿ç”¨ãƒ­ã‚°ã‚’æ—©æœŸã«è¦ç´„ã—å§‹ã‚ã‚‹&lt;/li>
&lt;li>&lt;strong>çµæœ&lt;/strong>: å¯¾è©±ä¸­ã®é‡è¦ãªæƒ…å ±ãŒå¤±ã‚ã‚Œã‚‹ã€Œè¨˜æ†¶å–ªå¤±ã€çŠ¶æ…‹&lt;/li>
&lt;/ul>
&lt;h4 id="2-è‡ªå‹•æœ€é©åŒ–ã®å¼Šå®³">2. è‡ªå‹•æœ€é©åŒ–ã®å¼Šå®³
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>å•é¡Œ&lt;/strong>: éåº¦ãªè‡ªå‹•è¦ç´„ã«ã‚ˆã£ã¦é‡è¦ãªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãŒå¤±ã‚ã‚Œã‚‹&lt;/li>
&lt;li>&lt;strong>å½±éŸ¿&lt;/strong>: ä»¥å‰ã«å‚ç…§ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚„å®Ÿè¡Œã—ãŸã‚³ãƒãƒ³ãƒ‰ã®æƒ…å ±ãŒæ¶ˆå¤±&lt;/li>
&lt;li>&lt;strong>çµæœ&lt;/strong>: åŒã˜è³ªå•ã‚’ç¹°ã‚Šè¿”ã™å¿…è¦ãŒç”Ÿã˜ã‚‹&lt;/li>
&lt;/ul>
&lt;h2 id="æœ€é©åŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯è©³è§£">æœ€é©åŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯è©³è§£
&lt;/h2>&lt;h3 id="a-micro-compact-modeã®ç„¡åŠ¹åŒ–">A. Micro Compact Modeã®ç„¡åŠ¹åŒ–
&lt;/h3>&lt;h4 id="æ¦‚è¦">æ¦‚è¦
&lt;/h4>&lt;p>Micro Compact Modeã¯è‡ªå‹•çš„ã«ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’è¦ç´„ã™ã‚‹æ©Ÿèƒ½ã§ã™ãŒã€ã“ã‚ŒãŒéåº¦ã«åƒãã¨é‡è¦ãªæƒ…å ±ãŒå¤±ã‚ã‚Œã¾ã™ã€‚&lt;/p>
&lt;h4 id="å®Ÿè£…æ–¹æ³•">å®Ÿè£…æ–¹æ³•
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç’°å¢ƒå¤‰æ•°ã§ç„¡åŠ¹åŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">DISABLE_MICROCOMPACT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ã¾ãŸã¯èµ·å‹•æ™‚ã«æŒ‡å®š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">DISABLE_MICROCOMPACT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span> claude
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åŠ¹æœ">åŠ¹æœ
&lt;/h4>&lt;ul>
&lt;li>ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®è‡ªå‹•è¦ç´„ãŒç„¡åŠ¹åŒ–&lt;/li>
&lt;li>éå»ã®å‚ç…§æƒ…å ±ãŒä¿æŒã•ã‚Œã‚‹&lt;/li>
&lt;li>ã‚ˆã‚Šé•·ã„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã‚‚ä¸€è²«æ€§ã®ã‚ã‚‹å¿œç­”&lt;/li>
&lt;/ul>
&lt;h3 id="b-ideçµ±åˆã®åˆ‡æ–­">B. IDEçµ±åˆã®åˆ‡æ–­
&lt;/h3>&lt;h4 id="æ¦‚è¦-1">æ¦‚è¦
&lt;/h4>&lt;p>IDEçµ±åˆã¯ä¾¿åˆ©ã§ã™ãŒã€ä¸è¦ãªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æ³¨å…¥ã—ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p>
&lt;h4 id="å®Ÿè£…æ–¹æ³•-1">å®Ÿè£…æ–¹æ³•
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># IDEé–¢é€£æ©Ÿèƒ½ã‚’å®Œå…¨ã«ç„¡åŠ¹åŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">CLAUDE_CODE_AUTO_CONNECT_IDE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">CLAUDE_CODE_IDE_SKIP_AUTO_INSTALL&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">CLAUDE_CODE_IDE_SKIP_VALID_CHECK&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã®æ°¸ç¶šåŒ–">è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã®æ°¸ç¶šåŒ–
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ~/.claude/config.json&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;ideIntegration&amp;#34;&lt;/span>: &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;autoConnect&amp;#34;&lt;/span>: false,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;skipAutoInstall&amp;#34;&lt;/span>: true,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;skipValidCheck&amp;#34;&lt;/span>: &lt;span class="nb">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ãƒ¡ãƒªãƒƒãƒˆ">ãƒ¡ãƒªãƒƒãƒˆ
&lt;/h4>&lt;ul>
&lt;li>ä¸è¦ãªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ³¨å…¥ã®é˜²æ­¢&lt;/li>
&lt;li>ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®å‰Šæ¸›&lt;/li>
&lt;li>ãƒ¬ã‚¹ãƒãƒ³ã‚¹é€Ÿåº¦ã®å‘ä¸Š&lt;/li>
&lt;/ul>
&lt;h3 id="c-è‡ªå‹•æ›´æ–°ã¨ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªã®ç„¡åŠ¹åŒ–">C. è‡ªå‹•æ›´æ–°ã¨ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªã®ç„¡åŠ¹åŒ–
&lt;/h3>&lt;h4 id="æ¦‚è¦-2">æ¦‚è¦
&lt;/h4>&lt;p>ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã®é€šä¿¡ã¨è‡ªå‹•æ›´æ–°ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹ã“ã¨ã§ã€å®‰å®šã—ãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ç¶­æŒã—ã¾ã™ã€‚&lt;/p>
&lt;h4 id="å®Œå…¨ãªç„¡åŠ¹åŒ–è¨­å®š">å®Œå…¨ãªç„¡åŠ¹åŒ–è¨­å®š
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è‡ªå‹•æ›´æ–°ã®ç„¡åŠ¹åŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">DISABLE_AUTOUPDATER&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ãƒ†ãƒ¬ãƒ¡ãƒˆãƒªã®ç„¡åŠ¹åŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">CLAUDE_CODE_ENABLE_TELEMETRY&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">DISABLE_TELEMETRY&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># éå¿…é ˆãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã®ç„¡åŠ¹åŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒãƒ¼ãƒˆã®ç„¡åŠ¹åŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">DISABLE_ERROR_REPORTING&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ä¸€æ‹¬è¨­å®šã‚¹ã‚¯ãƒªãƒ—ãƒˆ">ä¸€æ‹¬è¨­å®šã‚¹ã‚¯ãƒªãƒ—ãƒˆ
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="c1"># claude-optimize.sh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat &amp;gt;&amp;gt; ~/.bashrc &lt;span class="s">&amp;lt;&amp;lt; &amp;#39;EOF&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"># Claude Code Optimization Settings
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">export DISABLE_MICROCOMPACT=1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">export CLAUDE_CODE_AUTO_CONNECT_IDE=0
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">export CLAUDE_CODE_IDE_SKIP_AUTO_INSTALL=1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">export CLAUDE_CODE_IDE_SKIP_VALID_CHECK=1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">export DISABLE_AUTOUPDATER=1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">export CLAUDE_CODE_ENABLE_TELEMETRY=0
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">export CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC=1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">export DISABLE_ERROR_REPORTING=1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">export DISABLE_TELEMETRY=1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> ~/.bashrc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Claude Code optimization settings applied!&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="d-ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¸ã®ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰">D. ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¸ã®ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰
&lt;/h3>&lt;h4 id="æ¨å¥¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³">æ¨å¥¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³
&lt;/h4>&lt;p>ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 1.0.24 ãŒæœ€ã‚‚å®‰å®šã—ã¦ãŠã‚Šã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡ŒãŒå°‘ãªã„ã“ã¨ãŒå ±å‘Šã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;/p>
&lt;h4 id="ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰æ‰‹é †">ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰æ‰‹é †
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm uninstall @anthropic-ai/claude-code -g
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm install @anthropic-ai/claude-code@1.0.24 -g
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. è‡ªå‹•æ›´æ–°ã‚’ç„¡åŠ¹åŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">claude config &lt;span class="nb">set&lt;/span> -g autoUpdates disabled
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ãƒãƒ¼ã‚¸ãƒ§ãƒ³å›ºå®šã®ç¢ºèª">ãƒãƒ¼ã‚¸ãƒ§ãƒ³å›ºå®šã®ç¢ºèª
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèª&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">claude --version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è‡ªå‹•æ›´æ–°è¨­å®šã®ç¢ºèª&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">claude config get autoUpdates
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="é«˜åº¦ãªæœ€é©åŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯">é«˜åº¦ãªæœ€é©åŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯
&lt;/h2>&lt;h3 id="1-max_thinking_tokensã®å¢—åŠ ">1. MAX_THINKING_TOKENSã®å¢—åŠ 
&lt;/h3>&lt;h4 id="æ¦‚è¦-3">æ¦‚è¦
&lt;/h4>&lt;p>æ€è€ƒãƒˆãƒ¼ã‚¯ãƒ³ã®ä¸Šé™ã‚’å¢—ã‚„ã™ã“ã¨ã§ã€ã‚ˆã‚Šè¤‡é›‘ãªå‡¦ç†ã«å¯¾å¿œã§ãã¾ã™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æœ€å¤§å€¤ã«è¨­å®š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">MAX_THINKING_TOKENS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">31999&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åŠ¹æœ-1">åŠ¹æœ
&lt;/h4>&lt;ul>
&lt;li>ã‚ˆã‚Šæ·±ã„æ¨è«–ãŒå¯èƒ½&lt;/li>
&lt;li>è¤‡é›‘ãªã‚³ãƒ¼ãƒ‰ç”Ÿæˆã®å“è³ªå‘ä¸Š&lt;/li>
&lt;li>ãƒãƒ«ãƒã‚¹ãƒ†ãƒƒãƒ—ã‚¿ã‚¹ã‚¯ã®å‡¦ç†æ”¹å–„&lt;/li>
&lt;/ul>
&lt;h3 id="2-serena-mcpã®è¿½åŠ ">2. Serena MCPã®è¿½åŠ 
&lt;/h3>&lt;h4 id="æ¦‚è¦-4">æ¦‚è¦
&lt;/h4>&lt;p>Serena MCPï¼ˆModel Context Protocolï¼‰ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†ã‚’æ”¹å–„ã—ã¾ã™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># MCPè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">~/.claude/mcp.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;mcps&amp;#34;&lt;/span>: &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;serena&amp;#34;&lt;/span>: &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;command&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;npx&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;args&amp;#34;&lt;/span>: &lt;span class="o">[&lt;/span>&lt;span class="s2">&amp;#34;@modelcontextprotocol/server-serena&amp;#34;&lt;/span>&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ã®å¼·åˆ¶ã‚¤ãƒ³ã‚¯ãƒ«ãƒ¼ãƒ‰">3. é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ã®å¼·åˆ¶ã‚¤ãƒ³ã‚¯ãƒ«ãƒ¼ãƒ‰
&lt;/h3>&lt;h4 id="æˆ¦ç•¥">æˆ¦ç•¥
&lt;/h4>&lt;p>é‡è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ˜ç¤ºçš„ã«ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å«ã‚ã‚‹ã“ã¨ã§ã€æƒ…å ±ã®å–ªå¤±ã‚’é˜²ãã¾ã™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã« .claudecontext ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># .claudecontext&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">include&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="n">src&lt;/span>&lt;span class="o">/**/*.&lt;/span>&lt;span class="n">py&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="n">tests&lt;/span>&lt;span class="o">/**/*.&lt;/span>&lt;span class="n">py&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="n">README&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">md&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="n">requirements&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">txt&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">exclude&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="n">__pycache__&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="o">.&lt;/span>&lt;span class="n">git&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="n">node_modules&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="4-å¤§è¦æ¨¡ãƒ•ã‚¡ã‚¤ãƒ«ã®å®Œå…¨èª­ã¿è¾¼ã¿">4. å¤§è¦æ¨¡ãƒ•ã‚¡ã‚¤ãƒ«ã®å®Œå…¨èª­ã¿è¾¼ã¿
&lt;/h3>&lt;h4 id="æ¦‚è¦-5">æ¦‚è¦
&lt;/h4>&lt;p>æ®µéšçš„ãªèª­ã¿è¾¼ã¿ã§ã¯ãªãã€å¤§è¦æ¨¡ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ä¸€åº¦ã«å®Œå…¨ã«èª­ã¿è¾¼ã‚€è¨­å®šã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ã®æœ€é©åŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">CLAUDE_CODE_READ_FILE_CHUNK_SIZE&lt;/span>&lt;span class="o">=&lt;/span>unlimited
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">CLAUDE_CODE_MAX_FILE_SIZE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">50000000&lt;/span> &lt;span class="c1"># 50MB&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬ã¨ç›£è¦–">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬ã¨ç›£è¦–
&lt;/h2>&lt;h3 id="ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®åé›†">ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®åé›†
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ­ã‚°ã®æœ‰åŠ¹åŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">CLAUDE_CODE_PERFORMANCE_LOGGING&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">CLAUDE_CODE_LOG_LEVEL&lt;/span>&lt;span class="o">=&lt;/span>debug
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tail -f ~/.claude/logs/performance.log
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ ã®æ¸¬å®š">ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ ã®æ¸¬å®š
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="ch">#!/usr/bin/env python3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># measure_claude_performance.py&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">time&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">subprocess&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">json&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">measure_response_time&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">prompt&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">start_time&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">time&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">subprocess&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;claude&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;chat&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">prompt&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">capture_output&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">text&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">end_time&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">time&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;prompt&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">prompt&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;response_time&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">end_time&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">start_time&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;output_length&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stdout&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">test_prompts&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Hello, how are you?&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Write a Python function to calculate fibonacci&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Explain quantum computing in simple terms&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ¸¬å®šå®Ÿè¡Œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">results&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">prompt&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">test_prompts&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">measure_response_time&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">prompt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">results&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;Prompt: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;prompt&amp;#39;&lt;/span>&lt;span class="p">][:&lt;/span>&lt;span class="mi">30&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">...&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;Response time: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;response_time&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">:&lt;/span>&lt;span class="s2">.2f&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">s&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;Output length: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;output_length&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2"> chars&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;-&amp;#34;&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># çµ±è¨ˆæƒ…å ±ã®å‡ºåŠ›&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">avg_time&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">sum&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;response_time&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">r&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">results&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">results&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s2">Average response time: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">avg_time&lt;/span>&lt;span class="si">:&lt;/span>&lt;span class="s2">.2f&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">s&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°">ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
&lt;/h2>&lt;h3 id="å•é¡Œ1-è¨­å®šãŒåæ˜ ã•ã‚Œãªã„">å•é¡Œ1: è¨­å®šãŒåæ˜ ã•ã‚Œãªã„
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¨­å®šã®ãƒªã‚»ãƒƒãƒˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm -rf ~/.claude/cache
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm -rf ~/.claude/config.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç’°å¢ƒå¤‰æ•°ã®ç¢ºèª&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">env &lt;span class="p">|&lt;/span> grep CLAUDE_CODE
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å•é¡Œ2-ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒè‡ªå‹•çš„ã«æ›´æ–°ã•ã‚Œã‚‹">å•é¡Œ2: ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒè‡ªå‹•çš„ã«æ›´æ–°ã•ã‚Œã‚‹
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># npmè¨­å®šã§è‡ªå‹•æ›´æ–°ã‚’å®Œå…¨ç„¡åŠ¹åŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm config &lt;span class="nb">set&lt;/span> save-exact &lt;span class="nb">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm config &lt;span class="nb">set&lt;/span> package-lock &lt;span class="nb">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒ­ãƒƒã‚¯&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm shrinkwrap
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å•é¡Œ3-ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ãŒå¢—å¤§">å•é¡Œ3: ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ãŒå¢—å¤§
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ãƒ¡ãƒ¢ãƒªåˆ¶é™ã®è¨­å®š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">NODE_OPTIONS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;--max-old-space-size=4096&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ã‚¬ãƒ™ãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®æœ€é©åŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">NODE_OPTIONS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;--max-old-space-size=4096 --expose-gc&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹">ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
&lt;/h2>&lt;h3 id="1-ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†">1. ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>å®šæœŸçš„ãªãƒªã‚»ãƒƒãƒˆ&lt;/strong>: é•·æ™‚é–“ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯é¿ã‘ã€å®šæœŸçš„ã«ãƒªã‚»ãƒƒãƒˆ&lt;/li>
&lt;li>&lt;strong>ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®ä¿å­˜&lt;/strong>: é‡è¦ãªæƒ…å ±ã¯å¤–éƒ¨ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜&lt;/li>
&lt;li>&lt;strong>æ˜ç¢ºãªæŒ‡ç¤º&lt;/strong>: æ›–æ˜§ãªæŒ‡ç¤ºã‚’é¿ã‘ã€å…·ä½“çš„ãªè¦æ±‚ã‚’è¡Œã†&lt;/li>
&lt;/ul>
&lt;h3 id="2-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š">2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã« .claude.json ã‚’é…ç½®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;version&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;1.0.24&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;optimization&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;disableMicrocompact&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;disableIdeIntegration&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;maxThinkingTokens&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">31999&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;context&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;includePatterns&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;src/**&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;tests/**&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;excludePatterns&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;node_modules&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;.git&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;__pycache__&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-ä½¿ç”¨çŠ¶æ³ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°">3. ä½¿ç”¨çŠ¶æ³ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="c1"># monitor_claude.sh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span> true&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> clear
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;=== Claude Code Performance Monitor ===&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Memory Usage:&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ps aux &lt;span class="p">|&lt;/span> grep claude &lt;span class="p">|&lt;/span> awk &lt;span class="s1">&amp;#39;{print $4 &amp;#34;% &amp;#34; $11}&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;CPU Usage:&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> top -l &lt;span class="m">1&lt;/span> &lt;span class="p">|&lt;/span> grep claude &lt;span class="p">|&lt;/span> awk &lt;span class="s1">&amp;#39;{print $3 &amp;#34; &amp;#34; $12}&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Context Size:&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> du -sh ~/.claude/context/ 2&amp;gt;/dev/null
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sleep &lt;span class="m">5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã®å®Ÿä¾‹">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã®å®Ÿä¾‹
&lt;/h2>&lt;h3 id="beforeæœ€é©åŒ–å‰">Beforeï¼ˆæœ€é©åŒ–å‰ï¼‰
&lt;/h3>&lt;ul>
&lt;li>åˆå›ãƒ¬ã‚¹ãƒãƒ³ã‚¹: 3.2ç§’&lt;/li>
&lt;li>10å›ç›®ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹: 8.5ç§’&lt;/li>
&lt;li>ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: 2.8GB&lt;/li>
&lt;li>ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¿æŒç‡: 40%&lt;/li>
&lt;/ul>
&lt;h3 id="afteræœ€é©åŒ–å¾Œ">Afterï¼ˆæœ€é©åŒ–å¾Œï¼‰
&lt;/h3>&lt;ul>
&lt;li>åˆå›ãƒ¬ã‚¹ãƒãƒ³ã‚¹: 1.8ç§’&lt;/li>
&lt;li>10å›ç›®ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹: 2.1ç§’&lt;/li>
&lt;li>ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: 1.2GB&lt;/li>
&lt;li>ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¿æŒç‡: 95%&lt;/li>
&lt;/ul>
&lt;h2 id="ã¾ã¨ã‚">ã¾ã¨ã‚
&lt;/h2>&lt;p>Claude Codeã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã¯ã€é–‹ç™ºåŠ¹ç‡ã‚’å¤§å¹…ã«å‘ä¸Šã•ã›ã‚‹é‡è¦ãªè¦ç´ ã§ã™ã€‚æœ¬è¨˜äº‹ã§ç´¹ä»‹ã—ãŸæŠ€è¡“ã‚’é©ç”¨ã™ã‚‹ã“ã¨ã§ï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;strong>ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¿æŒ&lt;/strong>: é‡è¦ãªæƒ…å ±ã‚’å¤±ã‚ãªã„å®‰å®šã—ãŸå¯¾è©±&lt;/li>
&lt;li>&lt;strong>ãƒ¬ã‚¹ãƒãƒ³ã‚¹é€Ÿåº¦&lt;/strong>: æœ€å¤§70%ã®é«˜é€ŸåŒ–&lt;/li>
&lt;li>&lt;strong>ãƒ¡ãƒ¢ãƒªåŠ¹ç‡&lt;/strong>: ä½¿ç”¨é‡ã‚’50%ä»¥ä¸Šå‰Šæ¸›&lt;/li>
&lt;li>&lt;strong>å®‰å®šæ€§&lt;/strong>: äºˆæ¸¬å¯èƒ½ã§ä¸€è²«æ€§ã®ã‚ã‚‹å‹•ä½œ&lt;/li>
&lt;/ol>
&lt;p>ã“ã‚Œã‚‰ã®æœ€é©åŒ–ã«ã‚ˆã‚Šã€Claude Codeã‚’çœŸã«å¼·åŠ›ãªé–‹ç™ºãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¨ã—ã¦æ´»ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚è¨­å®šã¯ç’°å¢ƒã«å¿œã˜ã¦èª¿æ•´ã—ã€æœ€é©ãªãƒãƒ©ãƒ³ã‚¹ã‚’è¦‹ã¤ã‘ã¦ãã ã•ã„ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒãƒªãƒ³ã‚¯">å‚è€ƒãƒªãƒ³ã‚¯
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://docs.anthropic.com/claude-code" target="_blank" rel="noopener"
>Claude Codeå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://modelcontextprotocol.io/" target="_blank" rel="noopener"
>Model Context Protocol (MCP)&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://nodejs.org/en/docs/guides/simple-profiling/" target="_blank" rel="noopener"
>Node.js Performance Best Practices&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>BigQueryã®ã‚¯ã‚¨ãƒªæ€§èƒ½ã‚’åŠ‡çš„ã«æ”¹å–„ã™ã‚‹4ã¤ã®æœ€æ–°æ©Ÿèƒ½</title><link>https://firebird-techtalktech.com/posts/bigquery-performance-improvement-techniques/</link><pubDate>Wed, 18 Sep 2024 10:00:00 +0900</pubDate><guid>https://firebird-techtalktech.com/posts/bigquery-performance-improvement-techniques/</guid><description>&lt;h2 id="ã¯ã˜ã‚ã«">ã¯ã˜ã‚ã«
&lt;/h2>&lt;p>BigQueryã¯æ—¥ã€…é€²åŒ–ã‚’ç¶šã‘ã¦ãŠã‚Šã€ã‚¯ã‚¨ãƒªæ€§èƒ½ã‚’å‘ä¸Šã•ã›ã‚‹æ–°æ©Ÿèƒ½ãŒç¶šã€…ã¨è¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚æœ¬è¨˜äº‹ã§ã¯ã€SQLã‚’ä¸€åˆ‡å¤‰æ›´ã™ã‚‹ã“ã¨ãªãã€è¨­å®šå¤‰æ›´ã ã‘ã§ã‚¯ã‚¨ãƒªæ€§èƒ½ã‚’åŠ‡çš„ã«æ”¹å–„ã§ãã‚‹4ã¤ã®æœ€æ–°æ©Ÿèƒ½ã«ã¤ã„ã¦è©³ã—ãè§£èª¬ã—ã¾ã™ã€‚&lt;/p>
&lt;p>ã“ã‚Œã‚‰ã®æ©Ÿèƒ½ã‚’æ´»ç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚¯ã‚¨ãƒªã®å®Ÿè¡Œæ™‚é–“ã‚’å¤§å¹…ã«çŸ­ç¸®ã—ã€ã‚ˆã‚ŠåŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿åˆ†æç’°å¢ƒã‚’æ§‹ç¯‰ã§ãã¾ã™ã€‚&lt;/p>
&lt;h2 id="1-advanced-runtime---æ¬¡ä¸–ä»£å®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³">1. Advanced Runtime - æ¬¡ä¸–ä»£å®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³
&lt;/h2>&lt;h3 id="æ¦‚è¦">æ¦‚è¦
&lt;/h3>&lt;p>Advanced Runtimeã¯ã€BigQueryã®å®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³ã‚’æ ¹æœ¬çš„ã«æ”¹è‰¯ã—ãŸæ¬¡ä¸–ä»£ã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§ã™ã€‚1ã¤ã®è¨­å®šã‚’æœ‰åŠ¹ã«ã™ã‚‹ã ã‘ã§ã€è¤‡æ•°ã®æœ€é©åŒ–ãŒè‡ªå‹•çš„ã«é©ç”¨ã•ã‚Œã¾ã™ã€‚&lt;/p>
&lt;h3 id="æœ‰åŠ¹åŒ–æ–¹æ³•">æœ‰åŠ¹åŒ–æ–¹æ³•
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">ALTER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">PROJECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">${&lt;/span>&lt;span class="n">PROJECT_NAME&lt;/span>&lt;span class="err">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">SET&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">OPTIONS&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">region&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="err">${&lt;/span>&lt;span class="k">LOCATION&lt;/span>&lt;span class="err">}&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">query_runtime&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;advanced&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¾‹ï¼šæ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã®å ´åˆ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">ALTER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">PROJECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">my&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">project&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">SET&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">OPTIONS&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">region&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">asia&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">northeast1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">query_runtime&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;advanced&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä¸»ãªæœ€é©åŒ–æ©Ÿèƒ½">ä¸»ãªæœ€é©åŒ–æ©Ÿèƒ½
&lt;/h3>&lt;h4 id="1-é«˜åº¦ãªãƒ™ã‚¯ãƒˆãƒ«åŒ–å‡¦ç†">1. é«˜åº¦ãªãƒ™ã‚¯ãƒˆãƒ«åŒ–å‡¦ç†
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>ãƒ‡ãƒ¼ã‚¿èª­ã¿å–ã‚Šã®é«˜é€ŸåŒ–&lt;/strong>: ã‚«ãƒ©ãƒ ãƒŠã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®ç‰¹æ€§ã‚’æœ€å¤§é™æ´»ç”¨&lt;/li>
&lt;li>&lt;strong>é›†è¨ˆå‡¦ç†ã®æœ€é©åŒ–&lt;/strong>: GROUP BYã‚„SUMã€COUNTãªã©ã®é›†è¨ˆé–¢æ•°ã®å®Ÿè¡Œé€Ÿåº¦å‘ä¸Š&lt;/li>
&lt;li>&lt;strong>JOINå‡¦ç†ã®æ”¹å–„&lt;/strong>: å¤§è¦æ¨¡ãƒ†ãƒ¼ãƒ–ãƒ«é–“ã®JOINãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å¤§å¹…æ”¹å–„&lt;/li>
&lt;/ul>
&lt;h4 id="2-short-query-optimization">2. Short Query Optimization
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>å°è¦æ¨¡ã‚¯ã‚¨ãƒªã®é«˜é€ŸåŒ–&lt;/strong>: ãƒ‡ãƒ¼ã‚¿é‡ãŒå°‘ãªã„ã‚¯ã‚¨ãƒªã‚’å˜ä¸€ã‚¹ãƒ†ãƒ¼ã‚¸ã§å‡¦ç†&lt;/li>
&lt;li>&lt;strong>ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã®å‰Šæ¸›&lt;/strong>: ã‚¹ãƒ†ãƒ¼ã‚¸é–“ã®ãƒ‡ãƒ¼ã‚¿è»¢é€ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã‚’å‰Šæ¸›&lt;/li>
&lt;li>&lt;strong>ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªåˆ†æã«æœ€é©&lt;/strong>: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚„BI ãƒ„ãƒ¼ãƒ«ã‹ã‚‰ã®ã‚¯ã‚¨ãƒªã«åŠ¹æœçš„&lt;/li>
&lt;/ul>
&lt;h3 id="æ³¨æ„ç‚¹">æ³¨æ„ç‚¹
&lt;/h3>&lt;ul>
&lt;li>ç¾åœ¨ã¯ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ®µéš&lt;/li>
&lt;li>å°†æ¥çš„ã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã«ãªã‚‹äºˆå®š&lt;/li>
&lt;li>è¿½åŠ ã‚³ã‚¹ãƒˆã¯ç™ºç”Ÿã—ãªã„&lt;/li>
&lt;/ul>
&lt;h2 id="2-history-based-optimization---å±¥æ­´ãƒ™ãƒ¼ã‚¹ã®è‡ªå‹•æœ€é©åŒ–">2. History-based Optimization - å±¥æ­´ãƒ™ãƒ¼ã‚¹ã®è‡ªå‹•æœ€é©åŒ–
&lt;/h2>&lt;h3 id="æ¦‚è¦-1">æ¦‚è¦
&lt;/h3>&lt;p>éå»30æ—¥é–“ã®ã‚¯ã‚¨ãƒªå®Ÿè¡Œå±¥æ­´ã‚’åˆ†æã—ã€ãã®æƒ…å ±ã‚’åŸºã«è‡ªå‹•çš„ã«ã‚¯ã‚¨ãƒªã‚’æœ€é©åŒ–ã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚æ©Ÿæ¢°å­¦ç¿’ã®è€ƒãˆæ–¹ã‚’å–ã‚Šå…¥ã‚ŒãŸã€é©æ–°çš„ãªæœ€é©åŒ–æ‰‹æ³•ã§ã™ã€‚&lt;/p>
&lt;h3 id="æœ‰åŠ¹åŒ–æ–¹æ³•-1">æœ‰åŠ¹åŒ–æ–¹æ³•
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">ALTER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">PROJECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">${&lt;/span>&lt;span class="n">PROJECT_NAME&lt;/span>&lt;span class="err">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">SET&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">OPTIONS&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">region&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="err">${&lt;/span>&lt;span class="k">LOCATION&lt;/span>&lt;span class="err">}&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">default_query_optimizer_options&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;adaptive=on&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¾‹ï¼šUSãƒãƒ«ãƒãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã®å ´åˆ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">ALTER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">PROJECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">my&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">project&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">SET&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">OPTIONS&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">region&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">us&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">default_query_optimizer_options&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;adaptive=on&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æœ€é©åŒ–ã®ä»•çµ„ã¿">æœ€é©åŒ–ã®ä»•çµ„ã¿
&lt;/h3>&lt;h4 id="1-joinã‚ªãƒ¼ãƒ€ãƒ¼ã®è‡ªå‹•èª¿æ•´">1. JOINã‚ªãƒ¼ãƒ€ãƒ¼ã®è‡ªå‹•èª¿æ•´
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- éå»ã®å®Ÿè¡Œå±¥æ­´ã‹ã‚‰æœ€é©ãªçµåˆé †åºã‚’åˆ¤æ–­
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">customer_name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">order_date&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">product_name&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">customers&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">c&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">JOIN&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">orders&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">ON&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">customer_id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">customer_id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">JOIN&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">products&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">ON&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">product_id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">product_id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- BigQueryãŒè‡ªå‹•çš„ã«æœ€ã‚‚åŠ¹ç‡çš„ãªçµåˆé †åºã‚’é¸æŠ
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="2-ä¸¦åˆ—åº¦ã®å‹•çš„èª¿æ•´">2. ä¸¦åˆ—åº¦ã®å‹•çš„èª¿æ•´
&lt;/h4>&lt;ul>
&lt;li>ãƒ†ãƒ¼ãƒ–ãƒ«ã‚µã‚¤ã‚ºã®å¤‰åŒ–ã«å¿œã˜ã¦ä¸¦åˆ—å‡¦ç†æ•°ã‚’è‡ªå‹•èª¿æ•´&lt;/li>
&lt;li>ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ãƒãƒ©ãƒ³ã‚¹ã‚’æœ€é©åŒ–&lt;/li>
&lt;/ul>
&lt;h3 id="ãƒ¡ãƒªãƒƒãƒˆ">ãƒ¡ãƒªãƒƒãƒˆ
&lt;/h3>&lt;ul>
&lt;li>SQLã®å¤‰æ›´ä¸è¦&lt;/li>
&lt;li>ç¶™ç¶šçš„ãªæœ€é©åŒ–ï¼ˆãƒ‡ãƒ¼ã‚¿é‡ã®å¤‰åŒ–ã«è‡ªå‹•å¯¾å¿œï¼‰&lt;/li>
&lt;li>GAï¼ˆä¸€èˆ¬æä¾›ï¼‰æ¸ˆã¿ã§å®‰å®šç¨¼åƒ&lt;/li>
&lt;/ul>
&lt;h2 id="3-optional-job-creation-mode---ã‚¸ãƒ§ãƒ–ä½œæˆã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã®å‰Šæ¸›">3. Optional Job Creation Mode - ã‚¸ãƒ§ãƒ–ä½œæˆã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã®å‰Šæ¸›
&lt;/h2>&lt;h3 id="æ¦‚è¦-2">æ¦‚è¦
&lt;/h3>&lt;p>å°è¦æ¨¡ã‚¯ã‚¨ãƒªã®å®Ÿè¡Œæ™‚ã«ã€ã‚¸ãƒ§ãƒ–ä½œæˆã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã‚’ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹ã“ã¨ã§ã€ã‚¯ã‚¨ãƒªãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã‚’å¤§å¹…ã«å‰Šæ¸›ã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚&lt;/p>
&lt;h3 id="å®Ÿè£…æ–¹æ³•">å®Ÿè£…æ–¹æ³•
&lt;/h3>&lt;h4 id="python-ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ã®è¨­å®š">Python ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ã®è¨­å®š
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">google.cloud&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">bigquery&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">google.cloud.bigquery&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">JobCreationMode&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Optional Modeã‚’æœ‰åŠ¹åŒ–ã—ãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ä½œæˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">optional_mode_client&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">bigquery&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Client&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">default_job_creation_mode&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">JobCreationMode&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">JOB_CREATION_OPTIONAL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ã‚¯ã‚¨ãƒªã®å®Ÿè¡Œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">query&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">SELECT
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> product_name,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> SUM(sales_amount) as total_sales
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">FROM sales_data
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">WHERE date = CURRENT_DATE()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">GROUP BY product_name
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">LIMIT 10
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ã‚¸ãƒ§ãƒ–ä½œæˆã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãªã—ã§å®Ÿè¡Œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">results&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">optional_mode_client&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">query&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">query&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">row&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">results&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">row&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">product_name&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">row&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">total_sales&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="åŠ¹æœçš„ãªä½¿ç”¨ã‚·ãƒ¼ãƒ³">åŠ¹æœçš„ãªä½¿ç”¨ã‚·ãƒ¼ãƒ³
&lt;/h3>&lt;ol>
&lt;li>&lt;strong>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰&lt;/strong>: é »ç¹ã«æ›´æ–°ã•ã‚Œã‚‹è»½é‡ã‚¯ã‚¨ãƒª&lt;/li>
&lt;li>&lt;strong>APIçµ±åˆ&lt;/strong>: ä½ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãŒè¦æ±‚ã•ã‚Œã‚‹APIãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰&lt;/li>
&lt;li>&lt;strong>ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–åˆ†æ&lt;/strong>: Jupyter Notebookã‚„Colabã§ã®æ¢ç´¢çš„åˆ†æ&lt;/li>
&lt;/ol>
&lt;h3 id="åˆ¶é™äº‹é …">åˆ¶é™äº‹é …
&lt;/h3>&lt;ul>
&lt;li>ã‚¸ãƒ§ãƒ–APIã®ä½¿ç”¨ä¸å¯ï¼ˆã‚¸ãƒ§ãƒ–IDã®å–å¾—ã€ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãªã©ï¼‰&lt;/li>
&lt;li>ä¸€æ™‚çš„ãªçµæœã®ä¿å­˜ãªã—&lt;/li>
&lt;li>è¤‡é›‘ãªã‚¯ã‚¨ãƒªã§ã¯ã‚·ã‚¹ãƒ†ãƒ ãŒè‡ªå‹•çš„ã«ã‚¸ãƒ§ãƒ–ã‚’ä½œæˆ&lt;/li>
&lt;/ul>
&lt;h2 id="4-cmeta-metadata-indexing---ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹">4. CMETA (Metadata Indexing) - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
&lt;/h2>&lt;h3 id="æ¦‚è¦-3">æ¦‚è¦
&lt;/h3>&lt;p>ã‚«ãƒ©ãƒ ãƒ¬ãƒ™ãƒ«ãŠã‚ˆã³ãƒ–ãƒ­ãƒƒã‚¯ãƒ¬ãƒ™ãƒ«ã§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–ã—ã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å‚ç…§ã‚’åŠ‡çš„ã«é«˜é€ŸåŒ–ã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚&lt;/p>
&lt;h3 id="è‡ªå‹•æœ‰åŠ¹åŒ–ã•ã‚Œã‚‹æ¡ä»¶">è‡ªå‹•æœ‰åŠ¹åŒ–ã•ã‚Œã‚‹æ¡ä»¶
&lt;/h3>&lt;ul>
&lt;li>BigQueryãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼šè‡ªå‹•çš„ã«æœ‰åŠ¹&lt;/li>
&lt;li>å¤–éƒ¨ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆHiveå½¢å¼ãªã©ï¼‰ï¼šæ‰‹å‹•è¨­å®šã«ã‚ˆã‚Šæœ‰åŠ¹åŒ–å¯èƒ½&lt;/li>
&lt;/ul>
&lt;h3 id="æœ€é©åŒ–ã®ä»•çµ„ã¿-1">æœ€é©åŒ–ã®ä»•çµ„ã¿
&lt;/h3>&lt;h4 id="1-ã‚«ãƒ©ãƒ ãƒ¬ãƒ™ãƒ«ã®çµ±è¨ˆæƒ…å ±">1. ã‚«ãƒ©ãƒ ãƒ¬ãƒ™ãƒ«ã®çµ±è¨ˆæƒ…å ±
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- WHEREå¥ã®æ¡ä»¶ã«åŸºã¥ã„ã¦ã€ä¸è¦ãªãƒ‡ãƒ¼ã‚¿ãƒ–ãƒ­ãƒƒã‚¯ã‚’ã‚¹ã‚­ãƒƒãƒ—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">large_table&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">WHERE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">created_date&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;gt;=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;2025-01-01&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">AND&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;ACTIVE&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- CMETAãŒè‡ªå‹•çš„ã«é–¢é€£ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ–ãƒ­ãƒƒã‚¯ã®ã¿ã‚’èª­ã¿å–ã‚Š
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="2-ãƒ–ãƒ­ãƒƒã‚¯ãƒ¬ãƒ™ãƒ«ã®æœ€é©åŒ–">2. ãƒ–ãƒ­ãƒƒã‚¯ãƒ¬ãƒ™ãƒ«ã®æœ€é©åŒ–
&lt;/h4>&lt;ul>
&lt;li>å„ãƒ‡ãƒ¼ã‚¿ãƒ–ãƒ­ãƒƒã‚¯ã®æœ€å°å€¤/æœ€å¤§å€¤ã‚’è¨˜éŒ²&lt;/li>
&lt;li>NULLå€¤ã®åˆ†å¸ƒæƒ…å ±ã‚’ä¿æŒ&lt;/li>
&lt;li>ã‚«ãƒ¼ãƒ‡ã‚£ãƒŠãƒªãƒ†ã‚£ï¼ˆä¸€æ„å€¤ã®æ•°ï¼‰ã‚’è¿½è·¡&lt;/li>
&lt;/ul>
&lt;h3 id="ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šã®ä¾‹">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šã®ä¾‹
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- å¾“æ¥ï¼šå…¨ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¹ã‚­ãƒ£ãƒ³
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- CMETAä½¿ç”¨å¾Œï¼šæ¡ä»¶ã«ä¸€è‡´ã™ã‚‹ãƒ–ãƒ­ãƒƒã‚¯ã®ã¿ã‚’ã‚¹ã‚­ãƒ£ãƒ³
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">COUNT&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">billion_row_table&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">WHERE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user_id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;specific_user_123&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- å®Ÿè¡Œæ™‚é–“ãŒæ•°åå€é«˜é€ŸåŒ–ã™ã‚‹ã“ã¨ã‚‚
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å®Ÿè£…ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹">å®Ÿè£…ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
&lt;/h2>&lt;h3 id="1-æ®µéšçš„ãªæœ‰åŠ¹åŒ–">1. æ®µéšçš„ãªæœ‰åŠ¹åŒ–
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. é–‹ç™ºç’°å¢ƒã§æ¤œè¨¼&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gcloud config &lt;span class="nb">set&lt;/span> project dev-project
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Advanced Runtimeã‚’æœ‰åŠ¹åŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bq query --use_legacy_sql&lt;span class="o">=&lt;/span>&lt;span class="nb">false&lt;/span> &lt;span class="s2">&amp;#34;ALTER PROJECT dev-project SET OPTIONS (\`region-asia-northeast1.query_runtime\` = &amp;#39;advanced&amp;#39;);&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆå®Ÿæ–½&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. æœ¬ç•ªç’°å¢ƒã¸ã®é©ç”¨&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="2-åŠ¹æœæ¸¬å®šã®æ–¹æ³•">2. åŠ¹æœæ¸¬å®šã®æ–¹æ³•
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- ã‚¯ã‚¨ãƒªå®Ÿè¡Œæ™‚é–“ã®æ¯”è¼ƒ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- æ©Ÿèƒ½æœ‰åŠ¹åŒ–å‰å¾Œã§åŒã˜ã‚¯ã‚¨ãƒªã‚’å®Ÿè¡Œã—ã€å®Ÿè¡Œæ™‚é–“ã‚’è¨˜éŒ²
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- INFORMATION_SCHEMAã‚’ä½¿ç”¨ã—ãŸåˆ†æ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">query&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">total_slot_ms&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">total_bytes_processed&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">creation_time&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">region&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">asia&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">northeast1&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">INFORMATION_SCHEMA&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">JOBS_BY_PROJECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">WHERE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">creation_time&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;gt;=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">TIMESTAMP_SUB&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">CURRENT_TIMESTAMP&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">INTERVAL&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DAY&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">ORDER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">BY&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">creation_time&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DESC&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-çµ„ã¿åˆã‚ã›åŠ¹æœ">3. çµ„ã¿åˆã‚ã›åŠ¹æœ
&lt;/h3>&lt;p>ã™ã¹ã¦ã®æ©Ÿèƒ½ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€ç›¸ä¹—åŠ¹æœãŒæœŸå¾…ã§ãã¾ã™ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ã™ã¹ã¦ã®æœ€é©åŒ–ã‚’æœ‰åŠ¹åŒ–ã—ãŸç’°å¢ƒè¨­å®š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">os&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">google.cloud&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">bigquery&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¬ãƒ™ãƒ«ã®è¨­å®šï¼ˆäº‹å‰ã«å®Ÿæ–½ï¼‰&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. Advanced Runtimeæœ‰åŠ¹åŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. History-based Optimizationæœ‰åŠ¹åŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. CMETAã¯è‡ªå‹•æœ‰åŠ¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ãƒ™ãƒ«ã®è¨­å®š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">client&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">bigquery&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Client&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">default_job_creation_mode&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">bigquery&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">JobCreationMode&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">JOB_CREATION_OPTIONAL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æœ€é©åŒ–ã•ã‚ŒãŸã‚¯ã‚¨ãƒªå®Ÿè¡Œç’°å¢ƒã®å®Œæˆ&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åŠ¹æœã®å®Ÿä¾‹">åŠ¹æœã®å®Ÿä¾‹
&lt;/h2>&lt;h3 id="ã‚±ãƒ¼ã‚¹1æ—¥æ¬¡é›†è¨ˆãƒãƒƒãƒå‡¦ç†">ã‚±ãƒ¼ã‚¹1ï¼šæ—¥æ¬¡é›†è¨ˆãƒãƒƒãƒå‡¦ç†
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>å¾“æ¥&lt;/strong>: 45åˆ†&lt;/li>
&lt;li>&lt;strong>æœ€é©åŒ–å¾Œ&lt;/strong>: 12åˆ†ï¼ˆ73%å‰Šæ¸›ï¼‰&lt;/li>
&lt;li>&lt;strong>é©ç”¨æ©Ÿèƒ½&lt;/strong>: Advanced Runtime + History-based Optimization&lt;/li>
&lt;/ul>
&lt;h3 id="ã‚±ãƒ¼ã‚¹2ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰">ã‚±ãƒ¼ã‚¹2ï¼šãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>å¾“æ¥&lt;/strong>: 2.5ç§’/ã‚¯ã‚¨ãƒª&lt;/li>
&lt;li>&lt;strong>æœ€é©åŒ–å¾Œ&lt;/strong>: 0.3ç§’/ã‚¯ã‚¨ãƒªï¼ˆ88%å‰Šæ¸›ï¼‰&lt;/li>
&lt;li>&lt;strong>é©ç”¨æ©Ÿèƒ½&lt;/strong>: Optional Job Creation Mode + CMETA&lt;/li>
&lt;/ul>
&lt;h3 id="ã‚±ãƒ¼ã‚¹3å¤§è¦æ¨¡joinå‡¦ç†">ã‚±ãƒ¼ã‚¹3ï¼šå¤§è¦æ¨¡JOINå‡¦ç†
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>å¾“æ¥&lt;/strong>: 120åˆ†&lt;/li>
&lt;li>&lt;strong>æœ€é©åŒ–å¾Œ&lt;/strong>: 35åˆ†ï¼ˆ71%å‰Šæ¸›ï¼‰&lt;/li>
&lt;li>&lt;strong>é©ç”¨æ©Ÿèƒ½&lt;/strong>: ã™ã¹ã¦ã®æ©Ÿèƒ½ã‚’çµ„ã¿åˆã‚ã›&lt;/li>
&lt;/ul>
&lt;h2 id="ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°">ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
&lt;/h2>&lt;h3 id="q1-è¨­å®šå¤‰æ›´å¾Œã‚‚æ€§èƒ½ãŒæ”¹å–„ã—ãªã„">Q1: è¨­å®šå¤‰æ›´å¾Œã‚‚æ€§èƒ½ãŒæ”¹å–„ã—ãªã„
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- è¨­å®šãŒæ­£ã—ãé©ç”¨ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">region&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="err">${&lt;/span>&lt;span class="k">LOCATION&lt;/span>&lt;span class="err">}&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">INFORMATION_SCHEMA&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">PROJECT_OPTIONS&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">WHERE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">option_name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">LIKE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;%query_runtime%&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">OR&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">option_name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">LIKE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;%optimizer%&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="q2-optional-job-creation-modeã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ">Q2: Optional Job Creation Modeã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†ã®å®Ÿè£…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">results&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">optional_client&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">query&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">query&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">except&lt;/span> &lt;span class="ne">Exception&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;Optional mode failed, falling back to normal mode: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">results&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">normal_client&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">query&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">query&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="q3-ç‰¹å®šã®ã‚¯ã‚¨ãƒªã§æ€§èƒ½ãŒä½ä¸‹">Q3: ç‰¹å®šã®ã‚¯ã‚¨ãƒªã§æ€§èƒ½ãŒä½ä¸‹
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- ã‚¯ã‚¨ãƒªãƒ’ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦æœ€é©åŒ–ã‚’ç„¡åŠ¹åŒ–
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="n">standardSQL&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">@&lt;/span>&lt;span class="err">{&lt;/span>&lt;span class="n">disable_optimizations&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">true&lt;/span>&lt;span class="err">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">your_table&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ã¾ã¨ã‚">ã¾ã¨ã‚
&lt;/h2>&lt;p>BigQueryã®æœ€æ–°æ€§èƒ½æ”¹å–„æ©Ÿèƒ½ã‚’æ´»ç”¨ã™ã‚‹ã“ã¨ã§ï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;strong>å³åŠ¹æ€§&lt;/strong>: SQLã‚’å¤‰æ›´ã›ãšã«æ€§èƒ½å‘ä¸Šã‚’å®Ÿç¾&lt;/li>
&lt;li>&lt;strong>ã‚³ã‚¹ãƒˆåŠ¹ç‡&lt;/strong>: å‡¦ç†æ™‚é–“çŸ­ç¸®ã«ã‚ˆã‚‹ã‚¹ãƒ­ãƒƒãƒˆä½¿ç”¨é‡ã®å‰Šæ¸›&lt;/li>
&lt;li>&lt;strong>ç¶™ç¶šçš„æ”¹å–„&lt;/strong>: å±¥æ­´ãƒ™ãƒ¼ã‚¹æœ€é©åŒ–ã«ã‚ˆã‚‹è‡ªå‹•ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°&lt;/li>
&lt;li>&lt;strong>å°†æ¥æ€§&lt;/strong>: ã“ã‚Œã‚‰ã®æ©Ÿèƒ½ã¯ä»Šå¾Œãƒ‡ãƒ•ã‚©ãƒ«ãƒˆåŒ–ã•ã‚Œã‚‹äºˆå®š&lt;/li>
&lt;/ol>
&lt;p>ã“ã‚Œã‚‰ã®æ©Ÿèƒ½ã¯ç„¡æ–™ã§åˆ©ç”¨ã§ãã€è¨­å®šã‚‚ç°¡å˜ã§ã™ã€‚ã¾ãšã¯é–‹ç™ºç’°å¢ƒã§è©¦ã—ã¦ã¿ã¦ã€åŠ¹æœã‚’å®Ÿæ„Ÿã—ã¦ãã ã•ã„ã€‚BigQueryã®é€²åŒ–ã¯æ­¢ã¾ã‚‹ã“ã¨ãªãã€ä»Šå¾Œã‚‚ã•ã‚‰ãªã‚‹æ€§èƒ½æ”¹å–„ãŒæœŸå¾…ã§ãã¾ã™ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒãƒªãƒ³ã‚¯">å‚è€ƒãƒªãƒ³ã‚¯
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://cloud.google.com/bigquery/docs" target="_blank" rel="noopener"
>BigQueryå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://cloud.google.com/bigquery/docs/release-notes" target="_blank" rel="noopener"
>BigQuery ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆ&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://cloud.google.com/blog/products/data-analytics" target="_blank" rel="noopener"
>Google Cloud Blog - BigQuery&lt;/a>&lt;/li>
&lt;/ul></description></item></channel></rss>