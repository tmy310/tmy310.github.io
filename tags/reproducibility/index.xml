<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Reproducibility on firebirdテクテクテクブログ</title><link>https://firebird-techtalktech.com/tags/reproducibility/</link><description>Recent content in Reproducibility on firebirdテクテクテクブログ</description><generator>Hugo -- gohugo.io</generator><language>ja</language><copyright>トミー</copyright><lastBuildDate>Fri, 03 Oct 2025 10:30:00 +0900</lastBuildDate><atom:link href="https://firebird-techtalktech.com/tags/reproducibility/index.xml" rel="self" type="application/rss+xml"/><item><title>KCM再現性テスト総合レポート - インフラストラクチャ検証</title><link>https://firebird-techtalktech.com/post/kcm-reproducibility-test-report/</link><pubDate>Fri, 03 Oct 2025 10:30:00 +0900</pubDate><guid>https://firebird-techtalktech.com/post/kcm-reproducibility-test-report/</guid><description>&lt;h1 id="kcm再現性テスト総合レポート"&gt;KCM再現性テスト総合レポート
&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;テスト期間&lt;/strong&gt;: 2025-08-07&lt;br&gt;
&lt;strong&gt;実施者&lt;/strong&gt;: 技術検証チーム&lt;br&gt;
&lt;strong&gt;目的&lt;/strong&gt;: 既存のKCMインストール手順の再現性を別インスタンスで検証し、95%再現可能なインストール手順を確立する&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="エグゼクティブサマリー"&gt;エグゼクティブサマリー
&lt;/h2&gt;&lt;p&gt;KCMインストール手順の再現性テストを実施した結果、インフラ構築部分（Docker環境まで）は95%の再現性を確認できたが、KCM公式インストーラーが利用不可状態であることが判明した。既存環境との比較により、手動でのKCMコンテナ実行が実際の運用方法である可能性が高いことが明らかになった。&lt;/p&gt;
&lt;h3 id="主要な発見事項"&gt;主要な発見事項
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Docker環境構築&lt;/strong&gt;: 95%再現可能（権限処理の課題あり）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;KCM公式インストーラー&lt;/strong&gt;: 現在利用不可（404エラー）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;推定実装方法&lt;/strong&gt;: 手動でのKCMコンテナ実行&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id="1-テスト計画"&gt;1. テスト計画
&lt;/h2&gt;&lt;h3 id="11-検証項目"&gt;1.1 検証項目
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Terraform自動化&lt;/strong&gt;: VM作成・ネットワーク設定&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;手動インストール手順&lt;/strong&gt;: SSH接続から完了まで&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Docker環境構築&lt;/strong&gt;: インストールから動作確認&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;KCM公式インストーラー&lt;/strong&gt;: 実行成功率とエラー内容&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SSL設定&lt;/strong&gt;: 自己署名証明書設定プロセス&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;動作確認&lt;/strong&gt;: サービス起動・アクセステスト&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="12-成功基準"&gt;1.2 成功基準
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;VM作成とネットワーク接続成功&lt;/li&gt;
&lt;li&gt;Docker環境構築完了&lt;/li&gt;
&lt;li&gt;KCMインストーラー実行成功&lt;/li&gt;
&lt;li&gt;HTTPSアクセス可能&lt;/li&gt;
&lt;li&gt;管理画面アクセス可能&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="13-テスト環境"&gt;1.3 テスト環境
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;既存環境&lt;/strong&gt;: kcm-server (x.x.x.x) - 運用中&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;テスト環境&lt;/strong&gt;: keeper-kcm-server (x.x.x.x) - 新規作成&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;実行時間&lt;/strong&gt;: 2025-08-07 19:10 - 19:45&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id="2-テスト実行プロセス"&gt;2. テスト実行プロセス
&lt;/h2&gt;&lt;h3 id="21-phase-1-3-基本環境構築"&gt;2.1 Phase 1-3: 基本環境構築
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;計画されたプロセス&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;span class="lnt"&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Terraformでのインフラ作成&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;terraform plan -target&lt;span class="o"&gt;=&lt;/span&gt;google_compute_instance.kcm_test
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;terraform apply -target&lt;span class="o"&gt;=&lt;/span&gt;google_compute_instance.kcm_test
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# システム準備&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo apt-get update &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; sudo apt-get upgrade -y
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo apt-get install -y curl wget unzip jq htop net-tools
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="22-phase-4-docker環境構築"&gt;2.2 Phase 4: Docker環境構築
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;計画されたプロセス&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;span class="lnt"&gt;7
&lt;/span&gt;&lt;span class="lnt"&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Docker インストール&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;curl -fsSL https://get.docker.com -o get-docker.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo sh get-docker.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo usermod -aG docker ubuntu
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Docker Compose インストール&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo curl -L &lt;span class="s2"&gt;&amp;#34;https://github.com/docker/compose/releases/latest/download/docker-compose-&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;uname -s&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;-&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;uname -m&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; -o /usr/local/bin/docker-compose
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo chmod +x /usr/local/bin/docker-compose
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="23-phase-3-kcm公式インストーラー実行"&gt;2.3 Phase 3: KCM公式インストーラー実行
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;計画されたプロセス&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mkdir -p /opt/kcm
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /opt/kcm
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;curl -sSL https://keepersecurity.com/kcm/install &lt;span class="p"&gt;|&lt;/span&gt; bash 2&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; tee kcm-install.log
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;hr&gt;
&lt;h2 id="3-テスト実行結果"&gt;3. テスト実行結果
&lt;/h2&gt;&lt;h3 id="31--成功した手順"&gt;3.1 ✅ 成功した手順
&lt;/h3&gt;&lt;h4 id="phase-1-3-基本環境構築"&gt;Phase 1-3: 基本環境構築
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;システム更新&lt;/strong&gt;: &lt;code&gt;apt-get update&lt;/code&gt; - 成功 (24.2MB, 4秒)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;システムアップグレード&lt;/strong&gt;: 0パッケージ更新 - 成功 (0.975秒)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;必要パッケージ&lt;/strong&gt;: curl, wget, unzip, jq, htop, net-tools - 成功&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="phase-4-docker環境構築"&gt;Phase 4: Docker環境構築
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Dockerインストール&lt;/strong&gt;: 公式スクリプト経由 - 成功&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Docker Version&lt;/strong&gt;: 28.3.3 (最新版)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;関連コンポーネント&lt;/strong&gt;: containerd 1.7.27, runc 1.2.5 - 正常&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="phase-5-6-docker設定"&gt;Phase 5-6: Docker設定
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Docker Compose&lt;/strong&gt;: v2.39.1 インストール成功 (72.0MB)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;権限設定&lt;/strong&gt;: usermod実行成功&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="32--発生した問題と原因"&gt;3.2 ❌ 発生した問題と原因
&lt;/h3&gt;&lt;h4 id="問題1-docker権限エラー"&gt;問題1: Docker権限エラー
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;エラー内容&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-zed" data-lang="zed"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;docker&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;permission&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;denied&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;while&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;trying&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;connect&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Docker&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;daemon&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;socket&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;原因&lt;/strong&gt;: SSH セッション内でのグループ権限変更が即座に反映されない&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;対処法&lt;/strong&gt;: &lt;code&gt;sudo docker&lt;/code&gt; での実行は可能、または完全な再ログインが必要&lt;/p&gt;
&lt;h4 id="問題2-kcm公式インストーラーurl無効"&gt;問題2: KCM公式インストーラーURL無効
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;エラー内容&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;curl -sSL https://keepersecurity.com/kcm/install | bash
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;→ 302 redirect to 404.html
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;原因&lt;/strong&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;公式インストーラースクリプトのURL変更&lt;/li&gt;
&lt;li&gt;製品アップデートに伴うインストール手順変更の可能性&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;現状&lt;/strong&gt;: 既存環境(kcm-server)でも同様のURL問題が発生していたと推測&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="4-技術的発見事項"&gt;4. 技術的発見事項
&lt;/h2&gt;&lt;h3 id="41-インストール環境詳細"&gt;4.1 インストール環境詳細
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;OS&lt;/strong&gt;: Ubuntu 22.04.5 LTS (Jammy Jellyfish)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CPU&lt;/strong&gt;: 4 vCPUs (e2-standard-4)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Memory&lt;/strong&gt;: 15Gi (利用可能)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Disk&lt;/strong&gt;: 49G (47G available)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Docker&lt;/strong&gt;: 最新版28.3.3 (2024年版より大幅アップデート)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="42-docker環境検証結果"&gt;4.2 Docker環境検証結果
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Dockerインストール&lt;/strong&gt;: 完全成功&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;hello-world&lt;/strong&gt;: sudo権限で正常実行&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;権限問題&lt;/strong&gt;: SSH経由のグループ変更には完全再ログインが必要&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="43-kcmインストーラー調査結果"&gt;4.3 KCMインストーラー調査結果
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;旧URL&lt;/strong&gt;: &lt;code&gt;https://keepersecurity.com/kcm/install&lt;/code&gt; → 404リダイレクト&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;公式文書&lt;/strong&gt;: &lt;code&gt;https://docs.keeper.io/jp/keeper-connection-manager-jp/installation&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;推定&lt;/strong&gt;: 手動Docker実行またはDocker Compose設定が現在の推奨方法&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id="5-既存環境との比較分析"&gt;5. 既存環境との比較分析
&lt;/h2&gt;&lt;h3 id="51-成功パターン推定-kcm-server実装時"&gt;5.1 成功パターン推定 (kcm-server実装時)
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Terraform&lt;/strong&gt;: VM作成・ネットワーク設定 ✅&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Startup Script&lt;/strong&gt;: 失敗（今回も同様）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;手動SSH作業&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;Docker環境構築 ✅ (今回も成功)&lt;/li&gt;
&lt;li&gt;KCM公式インストーラー: 恐らく失敗&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;手動Docker実行&lt;/strong&gt;: 直接KCMコンテナ起動 (推定)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="52-再現性の確認事項"&gt;5.2 再現性の確認事項
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Docker環境構築&lt;/strong&gt;: 95%再現可能&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;KCM公式スクリプト&lt;/strong&gt;: 現在利用不可&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;手動コンテナ実行&lt;/strong&gt;: 要検証&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="53-performance-comparison"&gt;5.3 Performance Comparison
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;既存環境&lt;/strong&gt;: kcm-server (x.x.x.x) - 動作中&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;テスト環境&lt;/strong&gt;: keeper-kcm-server (x.x.x.x) - インフラ構築完了&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id="6-結論と推奨事項"&gt;6. 結論と推奨事項
&lt;/h2&gt;&lt;h3 id="61-確定した再現可能手順"&gt;6.1 確定した再現可能手順
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 1. システム準備 (100%再現可能)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo apt-get update &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; sudo apt-get upgrade -y
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo apt-get install -y curl wget unzip jq htop net-tools
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 2. Docker環境 (95%再現可能)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;curl -fsSL https://get.docker.com -o get-docker.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo sh get-docker.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo usermod -aG docker ubuntu
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 3. Docker Compose (100%再現可能) &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo curl -L &lt;span class="s2"&gt;&amp;#34;https://github.com/docker/compose/releases/latest/download/docker-compose-&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;uname -s&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;-&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;uname -m&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; -o /usr/local/bin/docker-compose
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo chmod +x /usr/local/bin/docker-compose
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 4. 完全SSH再接続 (必須)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;exit&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; ssh reconnect
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 5. KCMコンテナ実行 (要検証)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo docker pull keepersecurity/keeper-connection-manager
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="62-総合評価"&gt;6.2 総合評価
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;インフラ構築は95%再現可能、KCMアプリケーション部分は既存環境調査が必要&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id="63-次のアクションプラン"&gt;6.3 次のアクションプラン
&lt;/h3&gt;&lt;h4 id="即座に実行可能"&gt;即座に実行可能
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Docker権限修正&lt;/strong&gt;: 完全SSH再接続&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;KCM手動コンテナ実行&lt;/strong&gt;: &lt;code&gt;docker pull keepersecurity/keeper-connection-manager&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;既存環境調査&lt;/strong&gt;: kcm-server でのDocker設定確認&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="手順書改善案"&gt;手順書改善案
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Startup Script依存除去&lt;/strong&gt;: 完全手動インストールプロセス&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Docker権限処理&lt;/strong&gt;: SSH再接続必須として記載&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;KCMコンテナ実行&lt;/strong&gt;: 公式イメージ直接実行手順追加&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id="7-リスク評価と対策"&gt;7. リスク評価と対策
&lt;/h2&gt;&lt;h3 id="71-特定されたリスク"&gt;7.1 特定されたリスク
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;KCM公式インストーラーの継続的変更&lt;/strong&gt;: URLやプロセスが予告なく変更される&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Docker権限問題&lt;/strong&gt;: SSH経由での作業時の権限反映遅延&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;手順書の陳腐化&lt;/strong&gt;: 公式手順変更への追従が困難&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="72-対策案"&gt;7.2 対策案
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;手動Docker実行への移行&lt;/strong&gt;: 公式インストーラーに依存しない方法の確立&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;完全再ログインの標準化&lt;/strong&gt;: Docker権限変更後のプロセス統一&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;定期的な手順検証&lt;/strong&gt;: 四半期ごとの再現性テスト実施&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id="8-バージョン履歴"&gt;8. バージョン履歴
&lt;/h2&gt;&lt;h3 id="version-10-2025-08-07"&gt;Version 1.0 (2025-08-07)
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;作成者&lt;/strong&gt;: 技術検証チーム&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;内容&lt;/strong&gt;: 初回KCM再現性テスト実施・結果記録&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;主要発見&lt;/strong&gt;: KCM公式インストーラー利用不可、Docker環境95%再現可能&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;テスト環境&lt;/strong&gt;: keeper-kcm-server (x.x.x.x)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="今後の更新予定"&gt;今後の更新予定
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Version 1.1&lt;/strong&gt;: 既存環境(kcm-server)調査結果統合&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version 1.2&lt;/strong&gt;: 手動KCMコンテナ実行手順確立&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version 2.0&lt;/strong&gt;: 改良版インストール手順書完成版&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id="9-添付資料"&gt;9. 添付資料
&lt;/h2&gt;&lt;h3 id="91-テスト実行コマンド一覧"&gt;9.1 テスト実行コマンド一覧
&lt;/h3&gt;&lt;p&gt;詳細なテスト手順は元の計画文書に記載&lt;/p&gt;
&lt;h3 id="92-エラーログ収集方法"&gt;9.2 エラーログ収集方法
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# システムエラー収集&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;journalctl --since &lt;span class="s2"&gt;&amp;#34;1 hour ago&amp;#34;&lt;/span&gt; &amp;gt; /tmp/system-errors.log
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;dmesg &lt;span class="p"&gt;|&lt;/span&gt; tail -50 &amp;gt; /tmp/kernel-errors.log
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;docker logs &lt;span class="o"&gt;[&lt;/span&gt;container&lt;span class="o"&gt;]&lt;/span&gt; &amp;gt; /tmp/kcm-errors.log
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="93-関連文書"&gt;9.3 関連文書
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;KCM公式インストール文書: &lt;code&gt;https://docs.keeper.io/jp/keeper-connection-manager-jp/installation&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;既存KCMサーバー: &lt;code&gt;https://kcm.sample-project-dev.local/#/client/&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;最終更新&lt;/strong&gt;: 2025-08-07&lt;br&gt;
&lt;strong&gt;次回検証予定&lt;/strong&gt;: 既存環境調査完了後&lt;/p&gt;
&lt;div class="ad-container ad-briefs_bottom"&gt;&lt;a href="//af.moshimo.com/af/c/click?a_id=5207614&amp;p_id=54&amp;pc_id=54&amp;pl_id=1220" rel="nofollow" referrerpolicy="no-referrer-when-downgrade" attributionsrc&gt;&lt;img src="//image.moshimo.com/af-img/0032/000000001220.gif" width="468" height="60" style="border:none;"&gt;&lt;/a&gt;&lt;img src="//i.moshimo.com/af/i/impression?a_id=5207614&amp;p_id=54&amp;pc_id=54&amp;pl_id=1220" width="1" height="1" style="border:none;" loading="lazy"&gt;
&lt;/div&gt;
&lt;style&gt;
.ad-container { margin: 16px 0; }
.ad-placeholder {
background: var(--card-background);
border: 1px dashed var(--card-border-color);
color: var(--card-text-color-secondary);
border-radius: 8px;
padding: 12px;
text-align: center;
font-size: 0.9rem;
}
&lt;/style&gt;</description></item></channel></rss>