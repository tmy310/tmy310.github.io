<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ on firebirdãƒ†ã‚¯ãƒ†ã‚¯ãƒ†ã‚¯ãƒ–ãƒ­ã‚°</title><link>https://firebird-techtalktech.com/categories/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3/</link><description>Recent content in ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ on firebirdãƒ†ã‚¯ãƒ†ã‚¯ãƒ†ã‚¯ãƒ–ãƒ­ã‚°</description><generator>Hugo -- gohugo.io</generator><language>ja</language><copyright>ãƒˆãƒŸãƒ¼</copyright><lastBuildDate>Sun, 14 Sep 2025 15:00:00 +0900</lastBuildDate><atom:link href="https://firebird-techtalktech.com/categories/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3/index.xml" rel="self" type="application/rss+xml"/><item><title>ã€ç¤¾å†…ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å…¨æ»…ã€‘å¢ƒç•Œé˜²å¾¡ã‚’éä¿¡ã—ãŸçµæœã€æ”»æ’ƒè€…ã«å†…éƒ¨ä¾µå…¥ã‚’è¨±ã—ãŸ5æ—¥é–“ã®æ‚ªå¤¢</title><link>https://firebird-techtalktech.com/post/%E7%A4%BE%E5%86%85%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF%E5%85%A8%E6%BB%85%E5%A2%83%E7%95%8C%E9%98%B2%E5%BE%A1%E3%82%92%E9%81%8E%E4%BF%A1%E3%81%97%E3%81%9F%E7%B5%90%E6%9E%9C%E6%94%BB%E6%92%83%E8%80%85%E3%81%AB%E5%86%85%E9%83%A8%E4%BE%B5%E5%85%A5%E3%82%92%E8%A8%B1%E3%81%97%E3%81%9F5%E6%97%A5%E9%96%93%E3%81%AE%E6%82%AA%E5%A4%A2/</link><pubDate>Sun, 14 Sep 2025 15:00:00 +0900</pubDate><guid>https://firebird-techtalktech.com/post/%E7%A4%BE%E5%86%85%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF%E5%85%A8%E6%BB%85%E5%A2%83%E7%95%8C%E9%98%B2%E5%BE%A1%E3%82%92%E9%81%8E%E4%BF%A1%E3%81%97%E3%81%9F%E7%B5%90%E6%9E%9C%E6%94%BB%E6%92%83%E8%80%85%E3%81%AB%E5%86%85%E9%83%A8%E4%BE%B5%E5%85%A5%E3%82%92%E8%A8%B1%E3%81%97%E3%81%9F5%E6%97%A5%E9%96%93%E3%81%AE%E6%82%AA%E5%A4%A2/</guid><description>&lt;h1 id="ç¤¾å†…ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å…¨æ»…å¢ƒç•Œé˜²å¾¡ã‚’éä¿¡ã—ãŸçµæœæ”»æ’ƒè€…ã«å†…éƒ¨ä¾µå…¥ã‚’è¨±ã—ãŸ5æ—¥é–“ã®æ‚ªå¤¢">ã€ç¤¾å†…ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å…¨æ»…ã€‘å¢ƒç•Œé˜²å¾¡ã‚’éä¿¡ã—ãŸçµæœã€æ”»æ’ƒè€…ã«å†…éƒ¨ä¾µå…¥ã‚’è¨±ã—ãŸ5æ—¥é–“ã®æ‚ªå¤¢
&lt;/h1>&lt;h2 id="ãƒ—ãƒ­ãƒ­ãƒ¼ã‚°çµ¶å¯¾å®‰å…¨ã¨ã„ã†æ€ã„è¾¼ã¿">ãƒ—ãƒ­ãƒ­ãƒ¼ã‚°ï¼šã€Œçµ¶å¯¾å®‰å…¨ã€ã¨ã„ã†æ€ã„è¾¼ã¿
&lt;/h2>&lt;p>&lt;strong>2025å¹´7æœˆ14æ—¥ï¼ˆæœˆæ›œæ—¥ï¼‰åˆå‰9æ™‚&lt;/strong>&lt;/p>
&lt;p>ã€Œã†ã¡ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¯çµ¶å¯¾å®‰å…¨ã§ã™ã€‚æœ€æ–°ã®ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã§å®ˆã‚‰ã‚Œã¦ã„ã‚‹ã®ã§ã€&lt;/p>
&lt;p>CISOã®å‰ã§ãã†èƒ¸ã‚’å¼µã£ã¦èª¬æ˜ã—ã¦ã„ãŸç§ã€‚ã¾ã•ã‹ã€ãã®24æ™‚é–“å¾Œã«æ”»æ’ƒè€…ãŒç¤¾å†…ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’å®Œå…¨ã«æ”¯é…ä¸‹ã«ç½®ã„ã¦ã„ã‚‹ã¨ã¯å¤¢ã«ã‚‚æ€ã„ã¾ã›ã‚“ã§ã—ãŸã€‚&lt;/p>
&lt;p>ã“ã‚Œã¯ã€å¢ƒç•Œé˜²å¾¡ã¸ã®éä¿¡ãŒæ‹›ã„ãŸ5æ—¥é–“ã®åœ°ç„ã®è¨˜éŒ²ã§ã™ã€‚&lt;/p>
&lt;h2 id="ç¬¬ä¸€ç« åŸéƒ­ã®è™šå½å®‰å…¨">ç¬¬ä¸€ç« ï¼šã€ŒåŸéƒ­ã€ã®è™šå½å®‰å…¨
&lt;/h2>&lt;h3 id="ç§ãŸã¡ã®å®Œç’§ã ã£ãŸå¢ƒç•Œé˜²å¾¡">ç§ãŸã¡ã®ã€Œå®Œç’§ã€ã ã£ãŸå¢ƒç•Œé˜²å¾¡
&lt;/h3>&lt;p>å½“æ™‚ã€ç§ãŸã¡ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹æˆã¯æ¥­ç•Œæ¨™æº–ã‚’æº€ãŸã—ã¦ã„ã‚‹ã¨è‡ªè² ã—ã¦ã„ã¾ã—ãŸã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Internet â†’ [Next-Gen Firewall] â†’ Internal Network (100% trusted zone)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â†“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> [IDS/IPS]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> [DLP System]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> [VPN Gateway]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ï¼ˆå½“æ™‚ï¼‰ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>æœ€æ–°ã®Next-Generation Firewall&lt;/li>
&lt;li>IDS/IPSã«ã‚ˆã‚‹ä¾µå…¥æ¤œçŸ¥ãƒ»é˜²æ­¢&lt;/li>
&lt;li>DLPã‚·ã‚¹ãƒ†ãƒ ã§ãƒ‡ãƒ¼ã‚¿æ¼æ´©é˜²æ­¢&lt;/li>
&lt;li>VPNã«ã‚ˆã‚‹å®‰å…¨ãªãƒªãƒ¢ãƒ¼ãƒˆã‚¢ã‚¯ã‚»ã‚¹&lt;/li>
&lt;li>å®šæœŸçš„ãªãƒ‘ãƒƒãƒé©ç”¨&lt;/li>
&lt;/ul>
&lt;p>ã€Œã“ã‚Œã ã‘ã‚„ã£ã¦ã‚Œã°å®Œç’§ã ã‚ã†ã€&lt;/p>
&lt;h3 id="7æœˆ15æ—¥ç«æ›œæ—¥åˆå‰10æ™‚æœ€åˆã®é•å’Œæ„Ÿ">7æœˆ15æ—¥ï¼ˆç«æ›œæ—¥ï¼‰åˆå‰10æ™‚ï¼šæœ€åˆã®é•å’Œæ„Ÿ
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ğŸ”” Security Alert
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">From: IDS/IPS System
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Subject: Suspicious Activity Detected
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Alert: Unusual data transfer pattern detected
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Source: employee-laptop-047 (John Smith)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Destination: external IP 203.0.113.42
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Data Volume: 2.3GB in 30 minutes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Classification: Medium Risk
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ã€ŒJohnã®éƒ¨ç½²ã¯å¤§ããªãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‰±ã†ã—ã€å¤–éƒ¨ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¨ã®ãƒ‡ãƒ¼ã‚¿å…±æœ‰ã ã‚ã†ã€&lt;/p>
&lt;p>&lt;strong>ã“ã®åˆ¤æ–­ãŒã€å¾Œã«è‡´å‘½çš„ã ã£ãŸã¨åˆ†ã‹ã‚Šã¾ã™ã€‚&lt;/strong>&lt;/p>
&lt;h3 id="7æœˆ15æ—¥åˆå¾Œ2æ™‚ç•°å¸¸äº‹æ…‹ã¸ã®ç™ºå±•">7æœˆ15æ—¥åˆå¾Œ2æ™‚ï¼šç•°å¸¸äº‹æ…‹ã¸ã®ç™ºå±•
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ğŸš¨ Multiple Security Alerts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 15 laptops showing identical suspicious patterns
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- Database queries increased by 340%
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- Network traffic to unknown IPs: +450%
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- Multiple failed login attempts: 2,347 in 1 hour
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ã€Œã“ã‚Œã¯&amp;hellip;ä½•ã‹ãŠã‹ã—ã„ã€&lt;/p>
&lt;h3 id="ç·Šæ€¥èª¿æŸ»é–‹å§‹ç™ºè¦‹ã—ãŸæã‚ã—ã„çœŸå®Ÿ">ç·Šæ€¥èª¿æŸ»é–‹å§‹ï¼šç™ºè¦‹ã—ãŸæã‚ã—ã„çœŸå®Ÿ
&lt;/h3>&lt;p>&lt;strong>åˆå¾Œ4æ™‚ã€èª¿æŸ»ãƒãƒ¼ãƒ çµæˆ&lt;/strong>&lt;/p>
&lt;p>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚’è©³ç´°ã«åˆ†æã—ãŸçµæœã€æˆ¦æ…„ã®äº‹å®ŸãŒåˆ¤æ˜ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ­ã‚°åˆ†æ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 -w suspicious_traffic.pcap
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è§£æçµæœ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Wireshark Analysis Results:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- C&lt;span class="p">&amp;amp;&lt;/span>C Server Communication: 203.0.113.42:443
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- Data Exfiltration: 47.3GB over &lt;span class="m">6&lt;/span> hours
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- Lateral Movement: &lt;span class="m">73&lt;/span> internal hosts compromised
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- Persistence: &lt;span class="m">23&lt;/span> backdoors installed
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>æ”»æ’ƒã®å…¨è²Œï¼š&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>&lt;strong>åˆæœŸä¾µå…¥&lt;/strong>: VPNçµŒç”±ã®èªè¨¼æƒ…å ±çªƒå–&lt;/li>
&lt;li>&lt;strong>æ¨©é™æ˜‡æ ¼&lt;/strong>: Active Directoryç®¡ç†è€…æ¨©é™å–å¾—&lt;/li>
&lt;li>&lt;strong>æ¨ªå±•é–‹&lt;/strong>: å†…éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å…¨ä½“ã«æ‹¡æ•£&lt;/li>
&lt;li>&lt;strong>æŒç¶šåŒ–&lt;/strong>: è¤‡æ•°ã®ãƒãƒƒã‚¯ãƒ‰ã‚¢è¨­ç½®&lt;/li>
&lt;li>&lt;strong>ãƒ‡ãƒ¼ã‚¿çªƒå–&lt;/strong>: é¡§å®¢æƒ…å ±ãƒ»æ©Ÿå¯†æ–‡æ›¸ã®å¤§é‡æµå‡º&lt;/li>
&lt;/ol>
&lt;p>ã€Œå†…éƒ¨ã¯å®Œå…¨ã«ä¾µç•¥ã•ã‚Œã¦ã„ã‚‹&amp;hellip;ã€&lt;/p>
&lt;h2 id="ç¬¬äºŒç« å†…éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç„¡æ³•åœ°å¸¯ã®ç¾å®Ÿ">ç¬¬äºŒç« ï¼šå†…éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã€Œç„¡æ³•åœ°å¸¯ã€ã®ç¾å®Ÿ
&lt;/h2>&lt;h3 id="åˆå¾Œ6æ™‚è¢«å®³çŠ¶æ³ã®å…¨å®¹åˆ¤æ˜">åˆå¾Œ6æ™‚ï¼šè¢«å®³çŠ¶æ³ã®å…¨å®¹åˆ¤æ˜
&lt;/h3>&lt;p>&lt;strong>ä¾µå®³ã•ã‚ŒãŸè³‡ç”£ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼: å®Œå…¨æ”¯é…&lt;/li>
&lt;li>ãƒ•ã‚¡ã‚¤ãƒ«ã‚µãƒ¼ãƒãƒ¼: ãƒ‡ãƒ¼ã‚¿æš—å·åŒ–æ”»æ’ƒ&lt;/li>
&lt;li>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒãƒ¼: å…¨é¡§å®¢æƒ…å ±ã‚¢ã‚¯ã‚»ã‚¹æ¸ˆã¿&lt;/li>
&lt;li>è²¡å‹™ã‚·ã‚¹ãƒ†ãƒ : å–å¼•ãƒ‡ãƒ¼ã‚¿æµå‡º&lt;/li>
&lt;li>äººäº‹ã‚·ã‚¹ãƒ†ãƒ : å¾“æ¥­å“¡å€‹äººæƒ…å ±æµå‡º&lt;/li>
&lt;li>é–‹ç™ºç’°å¢ƒ: ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰çªƒå–&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>å½±éŸ¿ç¯„å›²ï¼š&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Compromised Assets Summary:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ Domain Controllers: 3/3 (100%)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ File Servers: 15/15 (100%)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ Database Servers: 8/8 (100%)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ Application Servers: 23/23 (100%)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ Employee Workstations: 247/250 (98.8%)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ Network Infrastructure: Router/Switch Config Modified
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ã€Œã“ã‚Œ&amp;hellip;ä¼šç¤¾å…¨ä½“ãŒä¹—ã£å–ã‚‰ã‚Œã¦ã‚‹ã€&lt;/p>
&lt;h3 id="ãªãœå¢ƒç•Œé˜²å¾¡ãŒç„¡åŠ›ã ã£ãŸã®ã‹">ãªãœå¢ƒç•Œé˜²å¾¡ãŒç„¡åŠ›ã ã£ãŸã®ã‹
&lt;/h3>&lt;p>&lt;strong>è‡´å‘½çš„ãªè¨­è¨ˆæ¬ é™¥ï¼š&lt;/strong>&lt;/p>
&lt;h4 id="1-å†…éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯--å®Œå…¨ä¿¡é ¼ã®æ€ã„è¾¼ã¿">1. å†…éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ = å®Œå…¨ä¿¡é ¼ã®æ€ã„è¾¼ã¿
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">å¾“æ¥ã®è¨­è¨ˆï¼ˆåŸéƒ­ãƒ¢ãƒ‡ãƒ«ï¼‰:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Internet (Evil) â†’ [Firewall] â†’ Internal Network (100% Trusted)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ç¾å®Ÿ:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Internet (Evil) â†’ [Firewall] â†’ Internal Network (Evil + Goodæ··åœ¨)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>å•é¡Œï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ä¸€åº¦å†…éƒ¨ã«å…¥ã‚‰ã‚Œã‚‹ã¨å…¨ã¦ãŒç„¡é˜²å‚™&lt;/li>
&lt;li>å†…éƒ¨é€šä¿¡ã«å¯¾ã™ã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶å¾¡ãªã—&lt;/li>
&lt;li>æ¨ªå±•é–‹ï¼ˆLateral Movementï¼‰ã«å¯¾ã™ã‚‹é˜²å¾¡ãªã—&lt;/li>
&lt;/ul>
&lt;h4 id="2-å˜å±¤é˜²å¾¡ã®é™ç•Œ">2. å˜å±¤é˜²å¾¡ã®é™ç•Œ
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ”»æ’ƒè€…ã®è¦–ç‚¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Step 1: VPNèªè¨¼çªç ´ âœ“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Step 2: å†…éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¹ã‚­ãƒ£ãƒ³ âœ“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Step 3: è„†å¼±æ€§ç™ºè¦‹ãƒ»æ‚ªç”¨ âœ“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Step 4: æ¨©é™æ˜‡æ ¼ âœ“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Step 5: ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ âœ“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Step 6: ãƒ‡ãƒ¼ã‚¿çªƒå– âœ“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æˆ‘ã€…ã®é˜²å¾¡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Step 1: ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ« âœ— &lt;span class="o">(&lt;/span>VPNçµŒç”±ã§å›é¿&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Step 2-6: é˜²å¾¡æ©Ÿæ§‹ãªã— âœ—âœ—âœ—âœ—âœ—
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="3-å†…éƒ¨é€šä¿¡ã®é‡æ”¾ã—çŠ¶æ…‹">3. å†…éƒ¨é€šä¿¡ã®é‡æ”¾ã—çŠ¶æ…‹
&lt;/h4>&lt;p>&lt;strong>å®Ÿéš›ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ï¼ˆä¾µå®³æ™‚ï¼‰ï¼š&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">10.0.1.50 â†’ 10.0.2.100:445 (SMB) âœ“ è¨±å¯
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">10.0.1.50 â†’ 10.0.3.200:1433 (SQL) âœ“ è¨±å¯
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">10.0.1.50 â†’ 10.0.4.150:3389 (RDP) âœ“ è¨±å¯
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">10.0.1.50 â†’ 10.0.5.75:22 (SSH) âœ“ è¨±å¯
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ã€Œå†…éƒ¨ã®é€šä¿¡ã¯å…¨éƒ¨ãƒ•ãƒªãƒ¼ãƒ‘ã‚¹ã ã£ãŸ&amp;hellip;ã“ã‚Œã˜ã‚ƒæ”»æ’ƒè€…ã®å¤©å›½ã ã€&lt;/p>
&lt;h2 id="ç¬¬ä¸‰ç« ç·Šæ€¥å¯¾å¿œ---5æ—¥é–“ã®æˆ¦ã„">ç¬¬ä¸‰ç« ï¼šç·Šæ€¥å¯¾å¿œ - 5æ—¥é–“ã®æˆ¦ã„
&lt;/h2>&lt;h3 id="day-17æœˆ15æ—¥å¤œãƒ‘ãƒ‹ãƒƒã‚¯ã¨åˆå‹•å¯¾å¿œ">Day 1ï¼ˆ7æœˆ15æ—¥å¤œï¼‰ï¼šãƒ‘ãƒ‹ãƒƒã‚¯ã¨åˆå‹•å¯¾å¿œ
&lt;/h3>&lt;p>&lt;strong>åˆå¾Œ8æ™‚ã€ç·Šæ€¥å¯¾ç­–æœ¬éƒ¨è¨­ç½®&lt;/strong>&lt;/p>
&lt;p>&lt;strong>ãƒ¡ãƒ³ãƒãƒ¼ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>CISOï¼ˆæœ€é«˜æƒ…å ±ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è²¬ä»»è€…ï¼‰&lt;/li>
&lt;li>ITéƒ¨é•·&lt;/li>
&lt;li>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç®¡ç†è€… 3å&lt;/li>
&lt;li>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒŠãƒªã‚¹ãƒˆ 2å&lt;/li>
&lt;li>å¤–éƒ¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆ&lt;/li>
&lt;li>ãã—ã¦ç§ï¼ˆã‚¤ãƒ³ãƒ•ãƒ©è²¬ä»»è€…ï¼‰&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>åˆæ—¥ã®å¯¾å¿œï¼š&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. ç·Šæ€¥é®æ–­&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¤–éƒ¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šã‚’å®Œå…¨é®æ–­&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -A OUTPUT -j DROP
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -A INPUT -j DROP
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. ä¾µå®³ç«¯æœ«ã®éš”é›¢&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ„ŸæŸ“ç¢ºèªæ¸ˆã¿247å°ã‚’å¼·åˆ¶ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> host in &lt;span class="k">$(&lt;/span>cat compromised_hosts.txt&lt;span class="k">)&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssh admin@&lt;span class="nv">$host&lt;/span> &lt;span class="s2">&amp;#34;sudo shutdown -h now&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®ç·Šæ€¥åœæ­¢&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Active Directoryå…¨ä½“ã‚’åœæ­¢&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>çµæœï¼šä¼šç¤¾æ©Ÿèƒ½å®Œå…¨åœæ­¢&lt;/strong>&lt;/p>
&lt;h3 id="day-27æœˆ16æ—¥è¨¼æ‹ ä¿å…¨ã¨è¢«å®³èª¿æŸ»">Day 2ï¼ˆ7æœˆ16æ—¥ï¼‰ï¼šè¨¼æ‹ ä¿å…¨ã¨è¢«å®³èª¿æŸ»
&lt;/h3>&lt;p>&lt;strong>ãƒ•ã‚©ãƒ¬ãƒ³ã‚¸ãƒƒã‚¯èª¿æŸ»ã®é–‹å§‹&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã®å®Œå…¨è§£æ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcpdump -i any -s &lt;span class="m">0&lt;/span> -w full_traffic_&lt;span class="k">$(&lt;/span>date +%Y%m%d&lt;span class="k">)&lt;/span>.pcap
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°ã®åé›†ãƒ»åˆ†æ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wevtutil epl Security security_events.evtx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wevtutil epl System system_events.evtx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ãƒ¡ãƒ¢ãƒªãƒ€ãƒ³ãƒ—ã®å–å¾—&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dd &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>/dev/mem &lt;span class="nv">of&lt;/span>&lt;span class="o">=&lt;/span>memory_dump_&lt;span class="k">$(&lt;/span>hostname&lt;span class="k">)&lt;/span>.img
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>æ”»æ’ƒã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã®å†æ§‹ç¯‰ï¼š&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">7æœˆ14æ—¥ 23:45: åˆæœŸä¾µå…¥ï¼ˆVPNçµŒç”±ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">7æœˆ15æ—¥ 00:30: ãƒ‰ãƒ¡ã‚¤ãƒ³ç®¡ç†è€…æ¨©é™å–å¾—
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">7æœˆ15æ—¥ 01:15: Active Directoryä¾µå®³
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">7æœˆ15æ—¥ 02:00: ãƒ•ã‚¡ã‚¤ãƒ«ã‚µãƒ¼ãƒãƒ¼æš—å·åŒ–é–‹å§‹
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">7æœˆ15æ—¥ 03:30: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ»ãƒ‡ãƒ¼ã‚¿çªƒå–é–‹å§‹
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">7æœˆ15æ—¥ 04:00-09:00: æ¨ªå±•é–‹ï¼ˆ247å°ã«æ‹¡æ•£ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">7æœˆ15æ—¥ 09:30-14:00: å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿æµå‡ºï¼ˆ47.3GBï¼‰
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ã€Œ5æ™‚é–“ã§ä¼šç¤¾å…¨ä½“ã‚’æ”¯é…ä¸‹ã«ç½®ã‹ã‚ŒãŸ&amp;hellip;ã€&lt;/p>
&lt;h3 id="day-37æœˆ17æ—¥å¾©æ—§æˆ¦ç•¥ã®æ¤œè¨">Day 3ï¼ˆ7æœˆ17æ—¥ï¼‰ï¼šå¾©æ—§æˆ¦ç•¥ã®æ¤œè¨
&lt;/h3>&lt;p>&lt;strong>é¸æŠè‚¢ã®æ¤œè¨ï¼š&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>å®Œå…¨å†æ§‹ç¯‰&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>å…¨ã‚·ã‚¹ãƒ†ãƒ ã‚’åˆæœŸåŒ–ã—ã¦ã‚¯ãƒªãƒ¼ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«&lt;/li>
&lt;li>æœŸé–“ï¼š2-3é€±é–“&lt;/li>
&lt;li>ã‚³ã‚¹ãƒˆï¼š$500,000+&lt;/li>
&lt;li>ãƒªã‚¹ã‚¯ï¼šä½&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>éƒ¨åˆ†çš„ãªé™¤æŸ“&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ä¾µå®³ç¢ºèªæ¸ˆã¿ã‚·ã‚¹ãƒ†ãƒ ã®ã¿å†æ§‹ç¯‰&lt;/li>
&lt;li>æœŸé–“ï¼š1é€±é–“&lt;/li>
&lt;li>ã‚³ã‚¹ãƒˆï¼š$200,000&lt;/li>
&lt;li>ãƒªã‚¹ã‚¯ï¼šé«˜ï¼ˆæ®‹å­˜è„…å¨ã®å¯èƒ½æ€§ï¼‰&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>æ®µéšçš„å¾©æ—§&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ– â†’ æ®µéšçš„ã‚·ã‚¹ãƒ†ãƒ å¾©æ—§&lt;/li>
&lt;li>æœŸé–“ï¼š2é€±é–“&lt;/li>
&lt;li>ã‚³ã‚¹ãƒˆï¼š$350,000&lt;/li>
&lt;li>ãƒªã‚¹ã‚¯ï¼šä¸­&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>æ±ºå®šï¼šæ®µéšçš„å¾©æ—§ + æŠœæœ¬çš„ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ”¹é©&lt;/strong>&lt;/p>
&lt;h3 id="day-4-57æœˆ18-19æ—¥æ–°ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ">Day 4-5ï¼ˆ7æœˆ18-19æ—¥ï¼‰ï¼šæ–°ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ
&lt;/h3>&lt;p>ã“ã®2æ—¥é–“ã§ã€ç§ãŸã¡ã¯æ ¹æœ¬çš„ã«ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’è¦‹ç›´ã—ã¾ã—ãŸã€‚&lt;/p>
&lt;h2 id="ç¬¬å››ç« å¤šå±¤é˜²å¾¡ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¸ã®è»¢æ›">ç¬¬å››ç« ï¼šå¤šå±¤é˜²å¾¡ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¸ã®è»¢æ›
&lt;/h2>&lt;h3 id="æ–°è¨­è¨ˆdefense-in-depth">æ–°è¨­è¨ˆï¼šDefense in Depth
&lt;/h3>&lt;p>&lt;strong>å¾“æ¥ï¼ˆå˜å±¤ï¼‰vs æ–°è¨­è¨ˆï¼ˆå¤šå±¤ï¼‰&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Before: Internet â†’ [FW] â†’ Internal Network (trusted)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">After: Internet â†’ [WAF] â†’ [LB] â†’ [App FW] â†’ [DB FW] â†’ Database
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â†“ â†“ â†“ â†“ â†“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Layer1 Layer2 Layer3 Layer4 Layer5
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="layer-1-dmzéæ­¦è£…åœ°å¸¯">Layer 1: DMZï¼ˆéæ­¦è£…åœ°å¸¯ï¼‰
&lt;/h4>&lt;p>&lt;strong>ç›®çš„&lt;/strong>: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã¨ã®æœ€åˆã®é˜²å¾¡ç·š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">DMZ_Design&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">Subnet&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">dmz-subnet (10.0.1.0/24)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">Components&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Cloud Armor (DDoS protection)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Load Balancer (SSL termination)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Reverse Proxy (request filtering)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">Security_Controls&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">Rate limiting&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">100&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">req/min per IP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">GeoIP blocking&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Known malicious countries&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">IP allowlist&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Critical admin sources only&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">WAF rules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">OWASP Top 10 protection&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«å®Ÿè£…ï¼š&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># DMZå±¤ã®å³æ ¼ãªåˆ¶å¾¡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gcloud compute firewall-rules create dmz-ingress-https &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --direction&lt;span class="o">=&lt;/span>INGRESS &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --priority&lt;span class="o">=&lt;/span>&lt;span class="m">1000&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --source-ranges&lt;span class="o">=&lt;/span>0.0.0.0/0 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --target-tags&lt;span class="o">=&lt;/span>dmz &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --allow&lt;span class="o">=&lt;/span>tcp:443
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å†…éƒ¨ã¸ã®é€šä¿¡ã¯ç‰¹å®šãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ã¿&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gcloud compute firewall-rules create dmz-to-app &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --direction&lt;span class="o">=&lt;/span>INGRESS &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --priority&lt;span class="o">=&lt;/span>&lt;span class="m">1001&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --source-tags&lt;span class="o">=&lt;/span>dmz &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --target-tags&lt;span class="o">=&lt;/span>app-layer &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --allow&lt;span class="o">=&lt;/span>tcp:8080,tcp:8443
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="layer-2-application-layer">Layer 2: Application Layer
&lt;/h4>&lt;p>&lt;strong>ç›®çš„&lt;/strong>: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å›ºæœ‰ã®è„…å¨å¯¾ç­–&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">App_Layer_Security&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">Subnet&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">app-subnet (10.0.2.0/24)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">Components&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Application Firewall&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">API Gateway with authentication&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Container security scanning&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">Access_Control&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Service-to-service authentication&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">JWT token validation&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Request rate limiting per user&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Input validation &amp;amp; sanitization&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="layer-3-database-layer">Layer 3: Database Layer
&lt;/h4>&lt;p>&lt;strong>ç›®çš„&lt;/strong>: ãƒ‡ãƒ¼ã‚¿ã¸ã®æœ€çµ‚é˜²å¾¡ç·š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å±¤ã®è¶…å³æ ¼åˆ¶å¾¡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gcloud compute firewall-rules create app-to-db &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --direction&lt;span class="o">=&lt;/span>INGRESS &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --priority&lt;span class="o">=&lt;/span>&lt;span class="m">1000&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --source-tags&lt;span class="o">=&lt;/span>app-layer &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --target-tags&lt;span class="o">=&lt;/span>database &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --allow&lt;span class="o">=&lt;/span>tcp:5432
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†ã¯å°‚ç”¨ã‚¸ãƒ£ãƒ³ãƒ—ãƒ›ã‚¹ãƒˆã®ã¿&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gcloud compute firewall-rules create admin-to-db &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --direction&lt;span class="o">=&lt;/span>INGRESS &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --priority&lt;span class="o">=&lt;/span>&lt;span class="m">1001&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --source-tags&lt;span class="o">=&lt;/span>admin-bastion &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --target-tags&lt;span class="o">=&lt;/span>database &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --allow&lt;span class="o">=&lt;/span>tcp:5432
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ã‚¼ãƒ­ãƒˆãƒ©ã‚¹ãƒˆãƒ¢ãƒ‡ãƒ«ã®å°å…¥">ã‚¼ãƒ­ãƒˆãƒ©ã‚¹ãƒˆãƒ¢ãƒ‡ãƒ«ã®å°å…¥
&lt;/h3>&lt;p>&lt;strong>åŸºæœ¬åŸå‰‡ï¼šã€ŒTrust Nothing, Verify Everythingã€&lt;/strong>&lt;/p>
&lt;h4 id="1-identity--access-management-iam">1. Identity &amp;amp; Access Management (IAM)
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">ZeroTrust_IAM&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">Principles&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="kc">No&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">implicit trust based on location&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Continuous authentication &amp;amp; authorization&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Least privilege access&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Multi-factor authentication mandatory&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">Implementation&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">Identity_Provider&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Google Cloud Identity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">Policies&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">User identity verification every 4 hours&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Device compliance checking&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Location-based risk assessment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Behavior analytics for anomaly detection&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="2-micro-segmentation">2. Micro-Segmentation
&lt;/h4>&lt;p>&lt;strong>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ç´°åˆ†åŒ–ï¼š&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># éƒ¨ç½²åˆ¥ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ†é›¢&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gcloud compute firewall-rules create deny-cross-department &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --direction&lt;span class="o">=&lt;/span>INGRESS &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --priority&lt;span class="o">=&lt;/span>&lt;span class="m">65000&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --source-tags&lt;span class="o">=&lt;/span>hr-dept &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --target-tags&lt;span class="o">=&lt;/span>finance-dept &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --action&lt;span class="o">=&lt;/span>DENY &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --rules&lt;span class="o">=&lt;/span>all
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ã®åˆ†é›¢&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gcloud compute firewall-rules create web-to-app-only &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --direction&lt;span class="o">=&lt;/span>INGRESS &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --priority&lt;span class="o">=&lt;/span>&lt;span class="m">1000&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --source-tags&lt;span class="o">=&lt;/span>web-tier &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --target-tags&lt;span class="o">=&lt;/span>app-tier &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --allow&lt;span class="o">=&lt;/span>tcp:8080
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gcloud compute firewall-rules create app-to-db-only &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --direction&lt;span class="o">=&lt;/span>INGRESS &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --priority&lt;span class="o">=&lt;/span>&lt;span class="m">1001&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --source-tags&lt;span class="o">=&lt;/span>app-tier &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --target-tags&lt;span class="o">=&lt;/span>db-tier &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --allow&lt;span class="o">=&lt;/span>tcp:5432
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="3-continuous-monitoring--analytics">3. Continuous Monitoring &amp;amp; Analytics
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">SecurityMonitor&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">threat_detection&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ThreatDetectionEngine&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">behavior_analytics&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">BehaviorAnalytics&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">incident_response&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">IncidentResponseSystem&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">monitor_network_traffic&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç›£è¦–&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">traffic&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">capture_traffic&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ç•°å¸¸æ¤œçŸ¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">threat_detection&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">is_suspicious&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">traffic&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">alert&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">generate_alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">traffic&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">incident_response&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">handle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">alert&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># è¡Œå‹•åˆ†æ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_behavior&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">behavior_analytics&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">analyze&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">traffic&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">user_behavior&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">risk_score&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mf">0.8&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">enforce_additional_auth&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user_behavior&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">user_id&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">enforce_additional_auth&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">user_id&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;ãƒªã‚¹ã‚¯ãƒ™ãƒ¼ã‚¹è¿½åŠ èªè¨¼&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">iam_service&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">require_mfa&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user_id&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">iam_service&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reduce_privileges&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user_id&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">duration&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">3600&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ç¬¬äº”ç« å¾©æ—§ä½œæ¥­ã¨æ–°ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…">ç¬¬äº”ç« ï¼šå¾©æ—§ä½œæ¥­ã¨æ–°ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…
&lt;/h2>&lt;h3 id="7æœˆ20æ—¥8æœˆ3æ—¥æ®µéšçš„å¾©æ—§ä½œæ¥­">7æœˆ20æ—¥ã€œ8æœˆ3æ—¥ï¼šæ®µéšçš„å¾©æ—§ä½œæ¥­
&lt;/h3>&lt;h4 id="phase-1-ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åŸºç›¤æ§‹ç¯‰7æœˆ20-24æ—¥">Phase 1: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åŸºç›¤æ§‹ç¯‰ï¼ˆ7æœˆ20-24æ—¥ï¼‰
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ–°VPCä½œæˆï¼ˆã‚¼ãƒ­ãƒˆãƒ©ã‚¹ãƒˆè¨­è¨ˆï¼‰&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gcloud compute networks create secure-vpc --subnet-mode&lt;span class="o">=&lt;/span>custom
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¤šå±¤ã‚»ã‚°ãƒ¡ãƒ³ãƒˆä½œæˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gcloud compute networks subnets create dmz-subnet &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --network&lt;span class="o">=&lt;/span>secure-vpc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --range&lt;span class="o">=&lt;/span>10.0.1.0/24 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --region&lt;span class="o">=&lt;/span>asia-northeast1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gcloud compute networks subnets create app-subnet &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --network&lt;span class="o">=&lt;/span>secure-vpc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --range&lt;span class="o">=&lt;/span>10.0.2.0/24 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --region&lt;span class="o">=&lt;/span>asia-northeast1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gcloud compute networks subnets create db-subnet &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --network&lt;span class="o">=&lt;/span>secure-vpc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --range&lt;span class="o">=&lt;/span>10.0.3.0/24 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --region&lt;span class="o">=&lt;/span>asia-northeast1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="phase-2-identity--access-åˆ·æ–°7æœˆ25-29æ—¥">Phase 2: Identity &amp;amp; Access åˆ·æ–°ï¼ˆ7æœˆ25-29æ—¥ï¼‰
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å…¨ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®å†ç™ºè¡Œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> user in &lt;span class="k">$(&lt;/span>gcloud iam service-accounts list --format&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;value(email)&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> gcloud iam service-accounts delete &lt;span class="nv">$user&lt;/span> --quiet
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ–°ã—ã„IAMæ§‹é€ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gcloud organizations add-iam-policy-binding &lt;span class="nv">$ORG_ID&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --member&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;group:security-admins@company.com&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --role&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;roles/securitycenter.admin&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ¡ä»¶ä»˜ãã‚¢ã‚¯ã‚»ã‚¹è¨­å®š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gcloud identity groups create security-team@company.com &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --description&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Security team with elevated privileges&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --display-name&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Security Team&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="phase-3-ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å¾©æ—§7æœˆ30æ—¥8æœˆ3æ—¥">Phase 3: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å¾©æ—§ï¼ˆ7æœˆ30æ—¥ã€œ8æœˆ3æ—¥ï¼‰
&lt;/h4>&lt;p>&lt;strong>Zero-TruståŸå‰‡ã§ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å†å±•é–‹ï¼š&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># application-deployment.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">apps/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deployment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">secure-webapp&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">replicas&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">serviceAccountName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">webapp-sa&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">securityContext&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runAsNonRoot&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runAsUser&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fsGroup&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">2000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">webapp&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">secure-webapp:v2.0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">securityContext&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">allowPrivilegeEscalation&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">readOnlyRootFilesystem&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">capabilities&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">drop&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">ALL&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">env&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">DB_CONNECTION&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">valueFrom&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secretKeyRef&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">db-credentials&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">key&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">connection-string&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ–°ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚·ã‚¹ãƒ†ãƒ ã®åŠ¹æœæ¸¬å®š">æ–°ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚·ã‚¹ãƒ†ãƒ ã®åŠ¹æœæ¸¬å®š
&lt;/h3>&lt;p>&lt;strong>1ãƒ¶æœˆå¾Œã®æ¯”è¼ƒï¼š&lt;/strong>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>æŒ‡æ¨™&lt;/th>
&lt;th>æ—§ã‚·ã‚¹ãƒ†ãƒ &lt;/th>
&lt;th>æ–°ã‚·ã‚¹ãƒ†ãƒ &lt;/th>
&lt;th>æ”¹å–„ç‡&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>å¹³å‡æ¤œçŸ¥æ™‚é–“&lt;/strong>&lt;/td>
&lt;td>6æ™‚é–“&lt;/td>
&lt;td>2åˆ†&lt;/td>
&lt;td>99.4%æ”¹å–„&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>æ¨ªå±•é–‹é˜»æ­¢ç‡&lt;/strong>&lt;/td>
&lt;td>0%&lt;/td>
&lt;td>98.5%&lt;/td>
&lt;td>-&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>èª¤æ¤œçŸ¥ç‡&lt;/strong>&lt;/td>
&lt;td>45%&lt;/td>
&lt;td>8%&lt;/td>
&lt;td>82%æ”¹å–„&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆå¯¾å¿œæ™‚é–“&lt;/strong>&lt;/td>
&lt;td>4æ™‚é–“&lt;/td>
&lt;td>15åˆ†&lt;/td>
&lt;td>93.8%æ”¹å–„&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>ãƒ‡ãƒ¼ã‚¿æµå‡ºæ¤œçŸ¥&lt;/strong>&lt;/td>
&lt;td>äº‹å¾Œï¼ˆ5æ—¥å¾Œï¼‰&lt;/td>
&lt;td>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ &lt;/td>
&lt;td>-&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="ç¬¬å…­ç« äºˆæœŸã—ãªã‹ã£ãŸå‰¯æ¬¡åŠ¹æœ">ç¬¬å…­ç« ï¼šäºˆæœŸã—ãªã‹ã£ãŸå‰¯æ¬¡åŠ¹æœ
&lt;/h2>&lt;h3 id="ãƒã‚¸ãƒ†ã‚£ãƒ–ãªå¤‰åŒ–">ãƒã‚¸ãƒ†ã‚£ãƒ–ãªå¤‰åŒ–
&lt;/h3>&lt;h4 id="1-çµ„ç¹”æ–‡åŒ–ã®å¤‰é©">1. çµ„ç¹”æ–‡åŒ–ã®å¤‰é©
&lt;/h4>&lt;p>&lt;strong>Beforeï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£äº‹æ•…å‰ï¼‰:&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">å¾“æ¥­å“¡: &amp;#34;ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ï¼ŸITéƒ¨é–€ã®ä»•äº‹ã§ã—ã‚‡&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ITéƒ¨é–€: &amp;#34;ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ãŒã‚ã‚‹ã‹ã‚‰å¤§ä¸ˆå¤«&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">çµŒå–¶é™£: &amp;#34;ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¯å¿…è¦æ‚ªã€ã‚³ã‚¹ãƒˆã‚»ãƒ³ã‚¿ãƒ¼&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>Afterï¼ˆç¾åœ¨ï¼‰:&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">å¾“æ¥­å“¡: &amp;#34;è‡ªåˆ†ã‚‚ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ä¸€éƒ¨ã€‚ç•°å¸¸ã‚’è¦‹ã¤ã‘ãŸã‚‰ã™ãå ±å‘Š&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ITéƒ¨é–€: &amp;#34;ã‚¼ãƒ­ãƒˆãƒ©ã‚¹ãƒˆã€‚ã™ã¹ã¦ã‚’ç–‘ã„ã€ã™ã¹ã¦ã‚’æ¤œè¨¼&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">çµŒå–¶é™£: &amp;#34;ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¯äº‹æ¥­ç¶™ç¶šã®ç”Ÿå‘½ç·šã€‚æŠ•è³‡å„ªå…ˆé …ç›®&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="2-ã‚·ã‚¹ãƒ†ãƒ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å‘ä¸Š">2. ã‚·ã‚¹ãƒ†ãƒ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å‘ä¸Š
&lt;/h4>&lt;p>æ„å¤–ãªã“ã¨ã«ã€å¤šå±¤é˜²å¾¡å°å…¥å¾Œã€ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒå‘ä¸Šã—ã¾ã—ãŸã€‚&lt;/p>
&lt;p>&lt;strong>ç†ç”±ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚»ã‚°ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚Šä¸è¦ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯å‰Šæ¸›&lt;/li>
&lt;li>ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚Šç•°å¸¸ãƒ—ãƒ­ã‚»ã‚¹ã®æ—©æœŸç™ºè¦‹ãƒ»åœæ­¢&lt;/li>
&lt;li>ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨ã®æœ€é©åŒ–&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Before: å¹³å‡ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ 2.3ç§’
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">After: å¹³å‡ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ 1.1ç§’ï¼ˆ52%æ”¹å–„ï¼‰
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="3-é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ã®å“è³ªå‘ä¸Š">3. é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ã®å“è³ªå‘ä¸Š
&lt;/h4>&lt;p>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶ãŒé–‹ç™ºåˆæœŸæ®µéšã‹ã‚‰çµ„ã¿è¾¼ã¾ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã€çµæœçš„ã«ã‚³ãƒ¼ãƒ‰å“è³ªãŒå¤§å¹…ã«å‘ä¸Šã€‚&lt;/p>
&lt;p>&lt;strong>ã‚»ã‚­ãƒ¥ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ¨™æº–ã®å°å…¥ï¼š&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Before: è„†å¼±ãªå®Ÿè£…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">get_user_data&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user_id&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">query&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;SELECT * FROM users WHERE id = &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">user_id&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">database&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">execute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">query&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># After: ã‚»ã‚­ãƒ¥ã‚¢ãªå®Ÿè£…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">get_user_data&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user_id&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">current_user&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">User&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="n">Optional&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">UserData&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># èªè¨¼ãƒã‚§ãƒƒã‚¯&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">current_user&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">is_authenticated&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">raise&lt;/span> &lt;span class="n">UnauthorizedException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;User not authenticated&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># èªå¯ãƒã‚§ãƒƒã‚¯&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">current_user&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">can_access_user&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user_id&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">raise&lt;/span> &lt;span class="n">ForbiddenException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Access denied&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">query&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;SELECT * FROM users WHERE id = &lt;/span>&lt;span class="si">%s&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">database&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">execute_safe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">query&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">user_id&lt;/span>&lt;span class="p">,))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ãƒ‡ãƒ¼ã‚¿ãƒã‚¹ã‚­ãƒ³ã‚°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">mask_sensitive_data&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">current_user&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">role&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ãƒã‚¬ãƒ†ã‚£ãƒ–ãªå½±éŸ¿ã¨å¯¾å‡¦">ãƒã‚¬ãƒ†ã‚£ãƒ–ãªå½±éŸ¿ã¨å¯¾å‡¦
&lt;/h3>&lt;h4 id="1-åˆæœŸã®é‹ç”¨è² è·å¢—å¤§">1. åˆæœŸã®é‹ç”¨è² è·å¢—å¤§
&lt;/h4>&lt;p>&lt;strong>å•é¡Œï¼š&lt;/strong>
æ–°ã‚·ã‚¹ãƒ†ãƒ å°å…¥ç›´å¾Œã€é‹ç”¨ãƒãƒ¼ãƒ ã®è² è·ãŒä¸€æ™‚çš„ã«300%å¢—åŠ ã€‚&lt;/p>
&lt;p>&lt;strong>å¯¾å‡¦ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ç©æ¥µå°å…¥&lt;/li>
&lt;li>é‹ç”¨ãƒãƒ¼ãƒ ã®å¢—å“¡ï¼ˆ2å â†’ 5åï¼‰&lt;/li>
&lt;li>å¤–éƒ¨ã‚µãƒãƒ¼ãƒˆã®æ´»ç”¨ï¼ˆ6ãƒ¶æœˆé–“ï¼‰&lt;/li>
&lt;/ul>
&lt;h4 id="2-ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã®ä¸€æ™‚çš„ä½ä¸‹">2. ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã®ä¸€æ™‚çš„ä½ä¸‹
&lt;/h4>&lt;p>&lt;strong>å•é¡Œï¼š&lt;/strong>
å¤šè¦ç´ èªè¨¼ã®å°å…¥ã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®è‹¦æƒ…ãŒå¢—åŠ ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">User Complaint Examples:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34;1æ—¥ã«ä½•å›ã‚‚ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›ã•ã›ãªã„ã§&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34;ã‚¹ãƒãƒ›ã‚’æŒã£ã¦ãªã„æ™‚ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34;ä»¥å‰ã‚ˆã‚Šæ“ä½œãŒé¢å€’ã«ãªã£ãŸ&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>å¯¾å‡¦ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ã‚·ãƒ³ã‚°ãƒ«ã‚µã‚¤ãƒ³ã‚ªãƒ³ï¼ˆSSOï¼‰ã®å°å…¥&lt;/li>
&lt;li>ãƒªã‚¹ã‚¯ãƒ™ãƒ¼ã‚¹èªè¨¼ï¼ˆä½ãƒªã‚¹ã‚¯æ™‚ã¯èªè¨¼é »åº¦ã‚’ä½æ¸›ï¼‰&lt;/li>
&lt;li>ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•™è‚²ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®Ÿæ–½&lt;/li>
&lt;/ul>
&lt;h2 id="ç¬¬ä¸ƒç« 1å¹´å¾Œã®æŒ¯ã‚Šè¿”ã‚Šã¨å­¦ã³">ç¬¬ä¸ƒç« ï¼š1å¹´å¾Œã®æŒ¯ã‚Šè¿”ã‚Šã¨å­¦ã³
&lt;/h2>&lt;h3 id="æ•°å€¤ã§è¦‹ã‚‹æ”¹å–„åŠ¹æœ">æ•°å€¤ã§è¦‹ã‚‹æ”¹å–„åŠ¹æœ
&lt;/h3>&lt;p>&lt;strong>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æŒ‡æ¨™ï¼ˆ1å¹´é–“ï¼‰ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆ&lt;/strong>: 124ä»¶ â†’ 3ä»¶ï¼ˆ97.6%å‰Šæ¸›ï¼‰&lt;/li>
&lt;li>&lt;strong>ãƒ‡ãƒ¼ã‚¿æ¼æ´©äº‹æ•…&lt;/strong>: 1ä»¶ï¼ˆé‡å¤§ï¼‰â†’ 0ä»¶&lt;/li>
&lt;li>&lt;strong>ãƒãƒ«ã‚¦ã‚§ã‚¢æ„ŸæŸ“&lt;/strong>: 89ä»¶ â†’ 1ä»¶ï¼ˆ98.9%å‰Šæ¸›ï¼‰&lt;/li>
&lt;li>&lt;strong>å†…éƒ¨ä¸æ­£ã®æ¤œçŸ¥&lt;/strong>: 0ä»¶ï¼ˆæ¤œçŸ¥ä¸å¯ï¼‰â†’ 7ä»¶æ¤œçŸ¥ãƒ»é˜²æ­¢&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ãƒ“ã‚¸ãƒã‚¹æŒ‡æ¨™ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ã‚·ã‚¹ãƒ†ãƒ å¯ç”¨æ€§&lt;/strong>: 97.3% â†’ 99.8%&lt;/li>
&lt;li>&lt;strong>é¡§å®¢æº€è¶³åº¦&lt;/strong>: 7.2/10 â†’ 8.9/10&lt;/li>
&lt;li>&lt;strong>å¾“æ¥­å“¡ã®æº€è¶³åº¦&lt;/strong>: 6.8/10 â†’ 8.5/10&lt;/li>
&lt;/ul>
&lt;h3 id="æœ€ã‚‚é‡è¦ãªå­¦ã³">æœ€ã‚‚é‡è¦ãªå­¦ã³
&lt;/h3>&lt;h4 id="1-å¢ƒç•Œé˜²å¾¡ã®é™ç•Œ">1. å¢ƒç•Œé˜²å¾¡ã®é™ç•Œ
&lt;/h4>&lt;p>&lt;strong>å¾“æ¥ã®è€ƒãˆï¼š&lt;/strong>ã€Œå¤–ã¨å†…ã®å¢ƒç•Œã‚’å³é‡ã«å®ˆã‚Œã°å®‰å…¨ã€&lt;/p>
&lt;p>**ç¾å®Ÿï¼š**æ”»æ’ƒè€…ã¯å¿…ãšå†…éƒ¨ã«ä¾µå…¥ã—ã¦ãã‚‹ã€‚é‡è¦ãªã®ã¯ä¾µå…¥å¾Œã®æ‹¡æ•£é˜²æ­¢ã€‚&lt;/p>
&lt;h4 id="2-ã‚¼ãƒ­ãƒˆãƒ©ã‚¹ãƒˆã®çœŸã®ä¾¡å€¤">2. ã‚¼ãƒ­ãƒˆãƒ©ã‚¹ãƒˆã®çœŸã®ä¾¡å€¤
&lt;/h4>&lt;p>&lt;strong>å˜ãªã‚‹æŠ€è¡“è«–ã§ã¯ãªãã€æ€æƒ³ã®å¤‰é©ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ã€Œä¿¡é ¼ã€ã‚’å‰æã¨ã—ãŸè¨­è¨ˆã‹ã‚‰ã®è„±å´&lt;/li>
&lt;li>ç¶™ç¶šçš„ãªæ¤œè¨¼ãƒ»ç›£è¦–ã®é‡è¦æ€§&lt;/li>
&lt;li>Identityä¸­å¿ƒã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¢ãƒ‡ãƒ«&lt;/li>
&lt;/ul>
&lt;h4 id="3-ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¯äººãŒä½œã‚‹">3. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¯ã€Œäººã€ãŒä½œã‚‹
&lt;/h4>&lt;p>&lt;strong>æŠ€è¡“ã ã‘ã§ã¯ä¸ååˆ†ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>å¾“æ¥­å“¡ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ„è­˜å‘ä¸ŠãŒæœ€é‡è¦&lt;/li>
&lt;li>çµ„ç¹”æ–‡åŒ–ã®å¤‰é©ãŒæŠ€è¡“å°å…¥ã®å‰æ&lt;/li>
&lt;li>ç¶™ç¶šçš„ãªæ•™è‚²ãƒ»å•“ç™ºã®å¿…è¦æ€§&lt;/li>
&lt;/ul>
&lt;h3 id="ä»–ç¤¾ã¸ã®æè¨€">ä»–ç¤¾ã¸ã®æè¨€
&lt;/h3>&lt;p>ã“ã®çµŒé¨“ã‚’è¸ã¾ãˆã€åŒã˜ã‚ˆã†ãªå¢ƒç•Œé˜²å¾¡ã«ä¾å­˜ã—ã¦ã„ã‚‹çµ„ç¹”ã¸ã®æè¨€ï¼š&lt;/p>
&lt;h4 id="æ®µéšçš„ã‚¼ãƒ­ãƒˆãƒ©ã‚¹ãƒˆç§»è¡Œãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—">æ®µéšçš„ã‚¼ãƒ­ãƒˆãƒ©ã‚¹ãƒˆç§»è¡Œãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—
&lt;/h4>&lt;p>&lt;strong>Phase 1: ç¾çŠ¶åˆ†æï¼ˆ1ãƒ¶æœˆï¼‰&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹æˆã®å¯è¦–åŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nmap -sn 10.0.0.0/8 &lt;span class="c1"># å†…éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ã‚¹ã‚­ãƒ£ãƒ³&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">netstat -tuln &lt;span class="c1"># é–‹æ”¾ãƒãƒ¼ãƒˆã®ç¢ºèª&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ss -tulpn &lt;span class="c1"># ãƒ—ãƒ­ã‚»ã‚¹åˆ¥ãƒãƒ¼ãƒˆä½¿ç”¨çŠ¶æ³&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>Phase 2: é‡è¦è³‡ç”£ã®ç‰¹å®šã¨åˆ†é›¢ï¼ˆ2ãƒ¶æœˆï¼‰&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é‡è¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®åˆ†é›¢&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gcloud compute networks subnets create critical-db-subnet &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --network&lt;span class="o">=&lt;/span>main-vpc &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --range&lt;span class="o">=&lt;/span>10.0.99.0/24
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç®¡ç†ã‚¢ã‚¯ã‚»ã‚¹ã®åˆ¶é™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gcloud compute firewall-rules create admin-access-only &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --direction&lt;span class="o">=&lt;/span>INGRESS &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --source-service-accounts&lt;span class="o">=&lt;/span>admin@company.com &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --target-tags&lt;span class="o">=&lt;/span>critical-systems &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --allow&lt;span class="o">=&lt;/span>tcp:22,tcp:3389
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>Phase 3: Identity &amp;amp; Access ã®åˆ·æ–°ï¼ˆ3ãƒ¶æœˆï¼‰&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>å…¨ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®è¦‹ç›´ã—&lt;/li>
&lt;li>å¤šè¦ç´ èªè¨¼ã®æ®µéšå°å…¥&lt;/li>
&lt;li>ç‰¹æ¨©ã‚¢ã‚¯ã‚»ã‚¹ç®¡ç†ï¼ˆPAMï¼‰ã®å®Ÿè£…&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Phase 4: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚»ã‚°ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ6ãƒ¶æœˆï¼‰&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>éƒ¨ç½²åˆ¥ãƒ»æ©Ÿèƒ½åˆ¥ã®ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ†é›¢&lt;/li>
&lt;li>å†…éƒ¨ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ãƒ«ãƒ¼ãƒ«ã®å®Ÿè£…&lt;/li>
&lt;li>ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ã®å¼·åŒ–&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Phase 5: ç¶™ç¶šçš„ãªæ”¹å–„ï¼ˆç¶™ç¶šï¼‰&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>è„…å¨ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ã‚¹ã®æ´»ç”¨&lt;/li>
&lt;li>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨“ç·´ã®å®Ÿæ–½&lt;/li>
&lt;li>ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆå¯¾å¿œè¨“ç·´&lt;/li>
&lt;/ul>
&lt;h2 id="ã¾ã¨ã‚850000ã¨5æ—¥é–“ã®åœ°ç„ã§å­¦ã‚“ã ã“ã¨">ã¾ã¨ã‚ï¼š$850,000ã¨5æ—¥é–“ã®åœ°ç„ã§å­¦ã‚“ã ã“ã¨
&lt;/h2>&lt;h3 id="äº‹æ•…ã®ç·ã‚³ã‚¹ãƒˆ">äº‹æ•…ã®ç·ã‚³ã‚¹ãƒˆ
&lt;/h3>&lt;p>&lt;strong>ç›´æ¥çš„ã‚³ã‚¹ãƒˆï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ã‚·ã‚¹ãƒ†ãƒ å¾©æ—§è²»ç”¨: $350,000&lt;/li>
&lt;li>ãƒ•ã‚©ãƒ¬ãƒ³ã‚¸ãƒƒã‚¯èª¿æŸ»: $150,000&lt;/li>
&lt;li>æ³•çš„å¯¾å¿œ: $200,000&lt;/li>
&lt;li>æ–°ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚·ã‚¹ãƒ†ãƒ : $150,000&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>é–“æ¥çš„ã‚³ã‚¹ãƒˆï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>äº‹æ¥­åœæ­¢ã«ã‚ˆã‚‹æ©Ÿä¼šæå¤±: $2,300,000&lt;/li>
&lt;li>é¡§å®¢æµå‡º: $680,000&lt;/li>
&lt;li>ä¿¡é ¼å›å¾©ã®ãŸã‚ã®ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°: $420,000&lt;/li>
&lt;li>äººä»¶è²»ï¼ˆç·Šæ€¥å¯¾å¿œï¼‰: $180,000&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ç·ã‚³ã‚¹ãƒˆ: $4,480,000&lt;/strong>&lt;/p>
&lt;h3 id="æœ€ã‚‚ä¾¡å€¤ã®ã‚ã‚‹æ•™è¨“">æœ€ã‚‚ä¾¡å€¤ã®ã‚ã‚‹æ•™è¨“
&lt;/h3>&lt;h4 id="1-ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¯ä¿é™ºã§ã¯ãªãæŠ•è³‡">1. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¯ã€Œä¿é™ºã€ã§ã¯ãªãã€ŒæŠ•è³‡ã€
&lt;/h4>&lt;p>&lt;strong>å¾“æ¥ã®è€ƒãˆï¼š&lt;/strong>
ã€Œã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¯ã‚³ã‚¹ãƒˆã€‚äº‹æ•…ãŒèµ·ããªã‘ã‚Œã°ç„¡é§„ãªæŠ•è³‡ã€&lt;/p>
&lt;p>&lt;strong>æ–°ã—ã„ç†è§£ï¼š&lt;/strong>
ã€Œã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¯äº‹æ¥­ç¶™ç¶šã®ãŸã‚ã®å¿…é ˆæŠ•è³‡ã€‚ROIã¯æ˜ç¢ºã«æ¸¬å®šå¯èƒ½ã€&lt;/p>
&lt;h4 id="2-å®Œç’§ãªé˜²å¾¡ã¯å¹»æƒ³">2. ã€Œå®Œç’§ãªé˜²å¾¡ã€ã¯å¹»æƒ³
&lt;/h4>&lt;p>&lt;strong>å¢ƒç•Œé˜²å¾¡ã®é™ç•Œã‚’å—ã‘å…¥ã‚Œã‚‹ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>æ”»æ’ƒè€…ã®ä¾µå…¥ã¯å‰æã¨ã™ã‚‹&lt;/li>
&lt;li>é‡è¦ãªã®ã¯æ—©æœŸæ¤œçŸ¥ã¨è¿…é€Ÿãªå¯¾å¿œ&lt;/li>
&lt;li>è¢«å®³ã®æœ€å°åŒ–ã“ããŒç¾å®Ÿçš„ãªç›®æ¨™&lt;/li>
&lt;/ul>
&lt;h4 id="3-çµ„ç¹”å…¨ä½“ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ–‡åŒ–ãŒæœ€é‡è¦">3. çµ„ç¹”å…¨ä½“ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ–‡åŒ–ãŒæœ€é‡è¦
&lt;/h4>&lt;p>&lt;strong>æŠ€è¡“ &amp;lt; ãƒ—ãƒ­ã‚»ã‚¹ &amp;lt; äººé–“&lt;/strong>&lt;/p>
&lt;p>æœ€é«˜ã®æŠ€è¡“ã‚’å°å…¥ã—ã¦ã‚‚ã€äººé–“ãŒé©åˆ‡ã«ä½¿ãˆãªã‘ã‚Œã°æ„å‘³ãŒãªã„ã€‚&lt;/p>
&lt;h3 id="æœªæ¥ã¸ã®å±•æœ›">æœªæ¥ã¸ã®å±•æœ›
&lt;/h3>&lt;h4 id="æ¬¡ä¸–ä»£ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£">æ¬¡ä¸–ä»£ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
&lt;/h4>&lt;p>ç¾åœ¨ã€ç§ãŸã¡ã¯æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¨ã—ã¦ä»¥ä¸‹ã«å–ã‚Šçµ„ã‚“ã§ã„ã¾ã™ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">Next_Generation_Security&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">AI_Powered_Threat_Detection&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Machine Learning anomaly detection&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Behavioral analysis automation&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Predictive threat intelligence&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">Automated_Response&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Self-healing security systems&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Automated incident containment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Dynamic policy adjustment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">Extended_Zero_Trust&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">IoT device security integration&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Supply chain security&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">Third-party integration security&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æœ€å¾Œã«åŒã˜éã¡ã‚’çŠ¯ã•ãªã„ãŸã‚ã«">æœ€å¾Œã«ï¼šåŒã˜éã¡ã‚’çŠ¯ã•ãªã„ãŸã‚ã«
&lt;/h3>&lt;p>ã“ã®è¨˜äº‹ã‚’èª­ã‚“ã§ã„ã‚‹ã‚ãªãŸã®çµ„ç¹”ãŒã€ç§ãŸã¡ã¨åŒã˜5æ—¥é–“ã®åœ°ç„ã‚’çµŒé¨“ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚&lt;/p>
&lt;p>&lt;strong>ä»Šã™ãã§ãã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ï¼š&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>&lt;strong>å†…éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é€šä¿¡ã®ç›£è¦–ã¯ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ&lt;/strong>&lt;/li>
&lt;li>&lt;strong>æœ€å¾Œã«è¡Œã£ãŸãƒšãƒãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã¯ã„ã¤ã§ã™ã‹ï¼Ÿ&lt;/strong>&lt;/li>
&lt;li>&lt;strong>å¾“æ¥­å“¡å…¨å“¡ãŒã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ•™è‚²ã‚’å—ã‘ã¦ã„ã¾ã™ã‹ï¼Ÿ&lt;/strong>&lt;/li>
&lt;li>&lt;strong>ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆå¯¾å¿œè¨ˆç”»ã¯å®šæœŸçš„ã«æ¼”ç¿’ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>ä¸€ã¤ã§ã‚‚ã€ŒNoã€ãŒã‚ã‚Œã°ã€ä»Šã™ãå¯¾ç­–ã‚’å§‹ã‚ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚&lt;/p>
&lt;p>&lt;strong>å¢ƒç•Œé˜²å¾¡ã ã‘ã§ã¯ä¸ååˆ†ã€‚å¤šå±¤é˜²å¾¡ã¨ã‚¼ãƒ­ãƒˆãƒ©ã‚¹ãƒˆã§ã€çœŸã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’ã€‚&lt;/strong>&lt;/p>
&lt;p>ã“ã‚ŒãŒã€$4,480,000ã¨5æ—¥é–“ã®åœ°ç„ã‹ã‚‰å­¦ã‚“ã ã€æœ€ã‚‚å¤§åˆ‡ãªæ•™è¨“ã§ã™ã€‚&lt;/p>
&lt;hr>
&lt;p>&lt;strong>é–¢é€£è¨˜äº‹ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://firebird-techtalktech.com/tags/zerotrust/" >ã‚¼ãƒ­ãƒˆãƒ©ã‚¹ãƒˆå®Ÿè£…ã®å®Ÿè·µçš„ã‚¬ã‚¤ãƒ‰&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://firebird-techtalktech.com/categories/%e3%82%bb%e3%82%ad%e3%83%a5%e3%83%aa%e3%83%86%e3%82%a3/" >ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆå¯¾å¿œã®ä½“ç³»çš„æ‰‹æ³•&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://firebird-techtalktech.com/tags/%e3%82%bb%e3%82%ad%e3%83%a5%e3%83%aa%e3%83%86%e3%82%a3%e7%9b%a3%e6%9f%bb/" >ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»ã§ç™ºè¦‹ã—ãŸè‡´å‘½çš„ãªè¨­å®šãƒŸã‚¹é›†&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>æ³¨æ„ï¼š&lt;/strong> æœ¬è¨˜äº‹ã¯å®Ÿéš›ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆçµŒé¨“ã«åŸºã¥ã„ã¦ã„ã¾ã™ãŒã€å…·ä½“çš„ãªä¼æ¥­åã‚„æŠ€è¡“çš„è©³ç´°ã¯ä¸€éƒ¨å¤‰æ›´ãƒ»åŒ¿ååŒ–ã—ã¦ã„ã¾ã™ã€‚&lt;/p></description></item><item><title>Cloud Workstationsã‹ã‚‰GitHubã¸ã®å®‰å…¨ãªã‚¢ã‚¯ã‚»ã‚¹ã‚’å®Ÿç¾ã™ã‚‹ - Secure Web Proxyã«ã‚ˆã‚‹ãƒªãƒã‚¸ãƒˆãƒªãƒ¬ãƒ™ãƒ«åˆ¶å¾¡</title><link>https://firebird-techtalktech.com/post/cloud-workstations%E3%81%8B%E3%82%89github%E3%81%B8%E3%81%AE%E5%AE%89%E5%85%A8%E3%81%AA%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%82%92%E5%AE%9F%E7%8F%BE%E3%81%99%E3%82%8B-secure-web-proxy%E3%81%AB%E3%82%88%E3%82%8B%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%83%AC%E3%83%99%E3%83%AB%E5%88%B6%E5%BE%A1/</link><pubDate>Sun, 14 Sep 2025 13:25:00 +0900</pubDate><guid>https://firebird-techtalktech.com/post/cloud-workstations%E3%81%8B%E3%82%89github%E3%81%B8%E3%81%AE%E5%AE%89%E5%85%A8%E3%81%AA%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%82%92%E5%AE%9F%E7%8F%BE%E3%81%99%E3%82%8B-secure-web-proxy%E3%81%AB%E3%82%88%E3%82%8B%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%83%AC%E3%83%99%E3%83%AB%E5%88%B6%E5%BE%A1/</guid><description>&lt;h1 id="cloud-workstationsã‹ã‚‰githubã¸ã®å®‰å…¨ãªã‚¢ã‚¯ã‚»ã‚¹ã‚’å®Ÿç¾ã™ã‚‹---secure-web-proxyã«ã‚ˆã‚‹ãƒªãƒã‚¸ãƒˆãƒªãƒ¬ãƒ™ãƒ«åˆ¶å¾¡">Cloud Workstationsã‹ã‚‰GitHubã¸ã®å®‰å…¨ãªã‚¢ã‚¯ã‚»ã‚¹ã‚’å®Ÿç¾ã™ã‚‹ - Secure Web Proxyã«ã‚ˆã‚‹ãƒªãƒã‚¸ãƒˆãƒªãƒ¬ãƒ™ãƒ«åˆ¶å¾¡
&lt;/h1>&lt;h2 id="ã¯ã˜ã‚ã«">ã¯ã˜ã‚ã«
&lt;/h2>&lt;p>é–‹ç™ºç’°å¢ƒã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’ç¢ºä¿ã—ãªãŒã‚‰ã€é–‹ç™ºè€…ã®ç”Ÿç”£æ€§ã‚’ç¶­æŒã™ã‚‹ã“ã¨ã¯å¸¸ã«èª²é¡Œã§ã™ã€‚ç‰¹ã«ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ™ãƒ¼ã‚¹ã®é–‹ç™ºç’°å¢ƒã§ã¯ã€å¤–éƒ¨ãƒªãƒã‚¸ãƒˆãƒªã¸ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ãŒé‡è¦ã«ãªã‚Šã¾ã™ã€‚&lt;/p>
&lt;p>æœ¬è¨˜äº‹ã§ã¯ã€Google Cloud Workstationsã‹ã‚‰GitHubã®ç‰¹å®šãƒªãƒã‚¸ãƒˆãƒªã®ã¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã™ã‚‹ã€Secure Web Proxyã‚’ä½¿ã£ãŸå®Ÿè£…æ–¹æ³•ã‚’è§£èª¬ã—ã¾ã™ã€‚&lt;/p>
&lt;h2 id="è§£æ±ºã—ãŸã„èª²é¡Œ">è§£æ±ºã—ãŸã„èª²é¡Œ
&lt;/h2>&lt;p>Cloud Workstationsã‚’ä½¿ç”¨ã™ã‚‹éš›ã€ä»¥ä¸‹ã®èª²é¡Œã«ç›´é¢ã—ã¾ã—ãŸï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;strong>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶&lt;/strong>: é–‹ç™ºç’°å¢ƒã‹ã‚‰å¤–éƒ¨ã¸ã®ç„¡åˆ¶é™ãªã‚¢ã‚¯ã‚»ã‚¹ã¯è¨±å¯ã§ããªã„&lt;/li>
&lt;li>&lt;strong>é–‹ç™ºåŠ¹ç‡&lt;/strong>: GitHubãƒªãƒã‚¸ãƒˆãƒªã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¯å¿…é ˆ&lt;/li>
&lt;li>&lt;strong>ãã‚ç´°ã‹ã„åˆ¶å¾¡&lt;/strong>: çµ„ç¹”å…¨ä½“ã§ã¯ãªãã€å¿…è¦ãªãƒªãƒã‚¸ãƒˆãƒªã®ã¿ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ã—ãŸã„&lt;/li>
&lt;/ol>
&lt;p>å¾“æ¥ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã¯ã€çµ„ç¹”å…¨ä½“ï¼ˆ&lt;code>github.com/myorg/*&lt;/code>ï¼‰ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã™ã‚‹ã“ã¨ãŒä¸€èˆ¬çš„ã§ã—ãŸãŒã€ã“ã‚Œã§ã¯å¾“æ¥­å“¡ãŒå€‹äººçš„ã«ä½œæˆã—ãŸãƒªãƒã‚¸ãƒˆãƒªã¸ã®æ„å›³ã—ãªã„ãƒ‡ãƒ¼ã‚¿æµå‡ºãƒªã‚¹ã‚¯ãŒã‚ã‚Šã¾ã—ãŸã€‚&lt;/p>
&lt;h2 id="ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦">ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ Cloud Workstation â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ (VPCå†…) â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ Private IP
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â–¼
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ Secure Web Proxy â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ - TLS Inspection â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ - URL Filtering â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â–¼
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ GitHub â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ (ç‰¹å®šãƒªãƒã‚¸ãƒˆãƒª) â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å®Ÿè£…è©³ç´°">å®Ÿè£…è©³ç´°
&lt;/h2>&lt;h3 id="1-secure-web-proxyã®åŸºæœ¬è¨­å®š">1. Secure Web Proxyã®åŸºæœ¬è¨­å®š
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;google_network_security_gateway_security_policy&amp;#34; &amp;#34;main&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> project&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">project_id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> location&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">region&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;${var.prefix}-workstation-policy&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> description&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Security policy for Cloud Workstations&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> tls_inspection_policy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">google_network_security_tls_inspection_policy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">main&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>TLS inspectionã‚’æœ‰åŠ¹ã«ã™ã‚‹ã“ã¨ã§ã€HTTPSé€šä¿¡ã®ä¸­èº«ã‚’æ¤œæŸ»ã—ã€URLãƒ‘ã‚¹ãƒ¬ãƒ™ãƒ«ã§ã®åˆ¶å¾¡ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚&lt;/p>
&lt;h3 id="2-ãƒªãƒã‚¸ãƒˆãƒªå˜ä½ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡">2. ãƒªãƒã‚¸ãƒˆãƒªå˜ä½ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;google_network_security_gateway_security_policy_rule&amp;#34; &amp;#34;github_repo_access&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> for_each&lt;/span> &lt;span class="o">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="k">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">repo&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">allowed_github_repos&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> : 2000 + i&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="err">&amp;gt;&lt;/span> &lt;span class="k">repo&lt;/span>&lt;span class="c1"> # å‹•çš„ã«priorityã‚’å‰²ã‚Šå½“ã¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;github-repo-${each.key}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> description&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Allow access to GitHub repository ${each.value}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> priority&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">each&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">key&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> basic_profile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;ALLOW&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> session_matcher&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;inIpRange(source.ip, &amp;#39;0.0.0.0/0&amp;#39;)&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> application_matcher&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="err">&amp;lt;&amp;lt;-&lt;/span>&lt;span class="k">_EOT_&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">url&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="k">startsWith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="k">github&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">com&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="err">each&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">value&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">git&lt;/span>&lt;span class="err">/&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">_EOT_&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> tls_inspection_enabled&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kt">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> enabled&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kt">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-priorityç®¡ç†æˆ¦ç•¥">3. Priorityç®¡ç†æˆ¦ç•¥
&lt;/h3>&lt;p>ãƒ«ãƒ¼ãƒ«ã®è©•ä¾¡é †åºã‚’æ˜ç¢ºã«ã™ã‚‹ãŸã‚ã€ä»¥ä¸‹ã®priorityä½“ç³»ã‚’æ¡ç”¨ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Priorityç¯„å›²&lt;/th>
&lt;th>ç”¨é€”&lt;/th>
&lt;th>ä¾‹&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1000-1999&lt;/td>
&lt;td>ä¸€èˆ¬çš„ãªè¨±å¯URL&lt;/td>
&lt;td>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒªãƒã‚¸ãƒˆãƒªã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2000-9999&lt;/td>
&lt;td>GitHubå€‹åˆ¥ãƒªãƒã‚¸ãƒˆãƒª&lt;/td>
&lt;td>&lt;code>myorg/frontend&lt;/code>, &lt;code>myorg/backend&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>10000&lt;/td>
&lt;td>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ‹’å¦&lt;/td>
&lt;td>ä¸Šè¨˜ä»¥å¤–ã™ã¹ã¦æ‹’å¦&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2000ç•ªå°ã®å‹•çš„å‰²ã‚Šå½“ã¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ãƒªãƒã‚¸ãƒˆãƒªãŒ10å€‹ã®å ´åˆ: 2000, 2001, 2002, ..., 2009
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ãƒªãƒã‚¸ãƒˆãƒªãŒ100å€‹ã®å ´åˆ: 2000, 2001, ..., 2099
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …">ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …
&lt;/h2>&lt;h3 id="1-session_matcherã®è¨­å®š">1. session_matcherã®è¨­å®š
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="n">session_matcher&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;inIpRange(source.ip, &amp;#39;0.0.0.0/0&amp;#39;)&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸€è¦‹ã™ã‚‹ã¨å…¨IPã‚’è¨±å¯ã—ã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã¾ã™ãŒã€Secure Web Proxyã¯VPCå†…ã«é…ç½®ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€å®Ÿè³ªçš„ã«VPCå†…ã®ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã®ã¿ãŒå¯¾è±¡ã¨ãªã‚Šã¾ã™ã€‚å¤–éƒ¨ã‹ã‚‰ã®ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ã¯æ§‹é€ çš„ã«ä¸å¯èƒ½ã§ã™ã€‚&lt;/p>
&lt;h3 id="2-ã‚ˆã‚Šå³å¯†ãªåˆ¶å¾¡ãŒå¿…è¦ãªå ´åˆ">2. ã‚ˆã‚Šå³å¯†ãªåˆ¶å¾¡ãŒå¿…è¦ãªå ´åˆ
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç‰¹å®šã®Workstationã‚µãƒ–ãƒãƒƒãƒˆã®ã¿ã«åˆ¶é™
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">session_matcher&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;inIpRange(source.ip, &amp;#39;10.0.1.0/24&amp;#39;)&amp;#34;&lt;/span>&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># HTTPãƒ¡ã‚½ãƒƒãƒ‰ã‚‚åˆ¶é™
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">application_matcher&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="err">&amp;lt;&amp;lt;-&lt;/span>&lt;span class="k">_EOT_&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">url&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="k">startsWith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="k">github&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">com&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="err">each&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">value&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">git&lt;/span>&lt;span class="err">/&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">&amp;amp;&amp;amp;&lt;/span> &lt;span class="k">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">method&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">matches&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">&amp;#39;^&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">GET&lt;/span>&lt;span class="err">|&lt;/span>&lt;span class="k">POST&lt;/span>&lt;span class="err">|&lt;/span>&lt;span class="k">HEAD&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">$&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">_EOT_&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-æ™‚é–“å¸¯åˆ¶å¾¡ã‚ªãƒ—ã‚·ãƒ§ãƒ³">3. æ™‚é–“å¸¯åˆ¶å¾¡ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å–¶æ¥­æ™‚é–“å†…ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">session_matcher&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="err">&amp;lt;&amp;lt;-&lt;/span>&lt;span class="k">EOT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">inIpRange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">source&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">ip&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="err">&amp;#39;&lt;/span>&lt;span class="m">10&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="m">0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="m">0&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="m">24&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> &amp;amp;&amp;amp; request.time.getHours(&amp;#39;Asia/Tokyo&amp;#39;) &amp;gt;&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="m">9&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">&amp;amp;&amp;amp;&lt;/span> &lt;span class="k">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">getHours&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="k">Asia&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="k">Tokyo&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="err">&amp;lt;&lt;/span> &lt;span class="m">18&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">EOT&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å®Ÿè£…æ™‚ã®æ³¨æ„ç‚¹">å®Ÿè£…æ™‚ã®æ³¨æ„ç‚¹
&lt;/h2>&lt;h3 id="urlãƒãƒƒãƒãƒ³ã‚°ã®èª²é¡Œ">URLãƒãƒƒãƒãƒ³ã‚°ã®èª²é¡Œ
&lt;/h3>&lt;p>ç¾åœ¨ã®å®Ÿè£…ã§ã¯ä»¥ä¸‹ã®åˆ¶é™ãŒã‚ã‚Šã¾ã™ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç¾åœ¨ã®å®Ÿè£…
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">url&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="k">startsWith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="k">github&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">com&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="err">each&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">value&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">git&lt;/span>&lt;span class="err">/&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å•é¡Œï¼šä»¥ä¸‹ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒãƒãƒƒãƒã—ãªã„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># - github.com/myorg/repo.git (æœ«å°¾ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ãªã—)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># - github.com/myorg/repo/info/refs (Git smart HTTP)
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ”¹å–„æ¡ˆ">æ”¹å–„æ¡ˆ
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ã‚ˆã‚ŠæŸ”è»Ÿãªãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">application_matcher&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="err">&amp;lt;&amp;lt;-&lt;/span>&lt;span class="k">_EOT_&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">url&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="k">matches&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">&amp;#39;^&lt;/span>&lt;span class="k">github&lt;/span>&lt;span class="err">\\&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">com&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="err">replace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">each&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">value&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;/&amp;#34;, &amp;#34;\\/&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">\\&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">git&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">?&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">?$&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">_EOT_&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å‹•ä½œç¢ºèª">å‹•ä½œç¢ºèª
&lt;/h2>&lt;h3 id="è¨­å®šå‰">è¨­å®šå‰
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ git clone https://github.com/myorg/restricted-repo.git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Cloning into &lt;span class="s1">&amp;#39;restricted-repo&amp;#39;&lt;/span>...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">remote: Access denied
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fatal: unable to access &lt;span class="s1">&amp;#39;https://github.com/myorg/restricted-repo.git/&amp;#39;&lt;/span>: The requested URL returned error: &lt;span class="m">403&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è¨­å®šå¾Œ">è¨­å®šå¾Œ
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ git clone https://github.com/myorg/allowed-repo.git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Cloning into &lt;span class="s1">&amp;#39;allowed-repo&amp;#39;&lt;/span>...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">remote: Enumerating objects: 12345, &lt;span class="k">done&lt;/span>.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">remote: Counting objects: 100% &lt;span class="o">(&lt;/span>12345/12345&lt;span class="o">)&lt;/span>, &lt;span class="k">done&lt;/span>.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æˆåŠŸï¼&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="é‹ç”¨ä¸Šã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹">é‹ç”¨ä¸Šã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
&lt;/h2>&lt;h3 id="1-æ®µéšçš„ãªãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ">1. æ®µéšçš„ãªãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="k">variable&lt;/span> &lt;span class="s2">&amp;#34;allowed_github_repos&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> default&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"> # Phase 1: å¿…é ˆãƒªãƒã‚¸ãƒˆãƒªã®ã¿
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="s2">&amp;#34;myorg/core-api&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"> # Phase 2: ãƒãƒ¼ãƒ å›ºæœ‰ãƒªãƒã‚¸ãƒˆãƒªè¿½åŠ 
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="s2">&amp;#34;myorg/frontend-app&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;myorg/mobile-app&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"> # Phase 3: ãƒ„ãƒ¼ãƒ«ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="s2">&amp;#34;myorg/shared-libraries&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="2-ãƒ­ã‚°ç›£æŸ»">2. ãƒ­ã‚°ãƒ»ç›£æŸ»
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;google_network_security_gateway_security_policy_rule&amp;#34; &amp;#34;github_repo_access&amp;#34;&lt;/span> {&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"> # ... ä»–ã®è¨­å®š ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"> # ãƒ­ã‚°è¨­å®šã‚’è¿½åŠ ï¼ˆå°†æ¥ã®å®Ÿè£…ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">log_config&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> enable&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kt">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> sample_rate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="m">0&lt;/span>&lt;span class="c1"> # å…¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ãƒ­ã‚°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-ä¾‹å¤–å‡¦ç†">3. ä¾‹å¤–å‡¦ç†
&lt;/h3>&lt;p>ç·Šæ€¥æ™‚ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚„ç‰¹æ®Šãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«å¯¾å¿œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç·Šæ€¥æ™‚ç”¨ã®ä¸€æ™‚çš„ãªãƒ«ãƒ¼ãƒ«ï¼ˆpriority 1500ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;google_network_security_gateway_security_policy_rule&amp;#34; &amp;#34;emergency_access&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">enable_emergency_access&lt;/span> &lt;span class="err">?&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="err">:&lt;/span> &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> priority&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">1500&lt;/span>&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"> # ç‰¹å®šã®IPã‹ã‚‰å…¨GitHubã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ã¾ã¨ã‚">ã¾ã¨ã‚
&lt;/h2>&lt;p>Secure Web Proxyã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€Cloud Workstationsã‹ã‚‰GitHubã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ã€ãƒªãƒã‚¸ãƒˆãƒªãƒ¬ãƒ™ãƒ«ã§ç´°ã‹ãåˆ¶å¾¡ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚&lt;/p>
&lt;h3 id="ãƒ¡ãƒªãƒƒãƒˆ">ãƒ¡ãƒªãƒƒãƒˆ
&lt;/h3>&lt;ul>
&lt;li>âœ… ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£: å¿…è¦æœ€å°é™ã®ã‚¢ã‚¯ã‚»ã‚¹ã®ã¿è¨±å¯&lt;/li>
&lt;li>âœ… æŸ”è»Ÿæ€§: ãƒªãƒã‚¸ãƒˆãƒªå˜ä½ã§ã®åˆ¶å¾¡ãŒå¯èƒ½&lt;/li>
&lt;li>âœ… æ‹¡å¼µæ€§: å‹•çš„ãªãƒ«ãƒ¼ãƒ«ç”Ÿæˆã«ã‚ˆã‚Šç®¡ç†ãŒå®¹æ˜“&lt;/li>
&lt;li>âœ… ç›£æŸ»æ€§: ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ã«ã‚ˆã‚‹è¿½è·¡ãŒå¯èƒ½&lt;/li>
&lt;/ul>
&lt;h3 id="ä»Šå¾Œã®æ”¹å–„ç‚¹">ä»Šå¾Œã®æ”¹å–„ç‚¹
&lt;/h3>&lt;ul>
&lt;li>URLãƒãƒƒãƒãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ”¹å–„&lt;/li>
&lt;li>HTTPãƒ¡ã‚½ãƒƒãƒ‰åˆ¶é™ã®è¿½åŠ &lt;/li>
&lt;li>ã‚ˆã‚Šè©³ç´°ãªãƒ­ã‚°ãƒ»ç›£è¦–ã®å®Ÿè£…&lt;/li>
&lt;/ul>
&lt;p>ã“ã®å®Ÿè£…ã«ã‚ˆã‚Šã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨é–‹ç™ºåŠ¹ç‡ã®ãƒãƒ©ãƒ³ã‚¹ã‚’ä¿ã¡ãªãŒã‚‰ã€ã‚¯ãƒ©ã‚¦ãƒ‰ãƒã‚¤ãƒ†ã‚£ãƒ–ãªé–‹ç™ºç’°å¢ƒã‚’å®Ÿç¾ã§ãã¾ã—ãŸã€‚&lt;/p>
&lt;h2 id="å‚è€ƒãƒªãƒ³ã‚¯">å‚è€ƒãƒªãƒ³ã‚¯
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://cloud.google.com/secure-web-proxy/docs" target="_blank" rel="noopener"
>Google Cloud Secure Web Proxy Documentation&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://git-scm.com/docs/http-protocol" target="_blank" rel="noopener"
>Git Smart HTTP Protocol&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/network_security_gateway_security_policy" target="_blank" rel="noopener"
>Terraform Google Provider - Network Security&lt;/a>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>&lt;em>ã“ã®è¨˜äº‹ã¯ã€å®Ÿéš›ã®ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ç’°å¢ƒã§ã®å®Ÿè£…çµŒé¨“ã«åŸºã¥ã„ã¦ã„ã¾ã™ã€‚ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶ã¯çµ„ç¹”ã«ã‚ˆã£ã¦ç•°ãªã‚‹ãŸã‚ã€å®Ÿè£…æ™‚ã¯è‡ªçµ„ç¹”ã®ãƒãƒªã‚·ãƒ¼ã«åˆã‚ã›ã¦èª¿æ•´ã—ã¦ãã ã•ã„ã€‚&lt;/em>&lt;/p></description></item><item><title>ã€ç·Šæ€¥äº‹æ…‹ã€‘Cloud Workstationsã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£äº‹æ•…ã‹ã‚‰å­¦ã‚“ã Secure Web Proxyå®Ÿè£…ã®å…¨è¨˜éŒ²</title><link>https://firebird-techtalktech.com/post/%E7%B7%8A%E6%80%A5%E4%BA%8B%E6%85%8Bcloud-workstations%E3%81%AE%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E4%BA%8B%E6%95%85%E3%81%8B%E3%82%89%E5%AD%A6%E3%82%93%E3%81%A0secure-web-proxy%E5%AE%9F%E8%A3%85%E3%81%AE%E5%85%A8%E8%A8%98%E9%8C%B2/</link><pubDate>Sun, 14 Sep 2025 10:00:00 +0900</pubDate><guid>https://firebird-techtalktech.com/post/%E7%B7%8A%E6%80%A5%E4%BA%8B%E6%85%8Bcloud-workstations%E3%81%AE%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E4%BA%8B%E6%95%85%E3%81%8B%E3%82%89%E5%AD%A6%E3%82%93%E3%81%A0secure-web-proxy%E5%AE%9F%E8%A3%85%E3%81%AE%E5%85%A8%E8%A8%98%E9%8C%B2/</guid><description>&lt;h2 id="ã¯ã˜ã‚ã«---ã¾ã•ã‹ã®äº‹æ…‹ç™ºç”Ÿ">ã¯ã˜ã‚ã« - ã¾ã•ã‹ã®äº‹æ…‹ç™ºç”Ÿ
&lt;/h2>&lt;p>2025å¹´8æœˆã®ã‚ã‚‹é‡‘æ›œæ—¥ã€åˆå¾Œ3æ™‚ã€‚ç§ã®æºå¸¯ã«ç·Šæ€¥ã®é›»è©±ãŒå…¥ã‚Šã¾ã—ãŸã€‚&lt;/p>
&lt;p>ã€Œç·Šæ€¥ã§ã™ï¼é–‹ç™ºç’°å¢ƒã‹ã‚‰ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã¸ã®ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹ãŒæ¤œçŸ¥ã•ã‚Œã¾ã—ãŸã€‚ã™ãã«å¯¾å¿œã‚’ãŠé¡˜ã„ã—ã¾ã™ï¼ã€&lt;/p>
&lt;p>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£éƒ¨é–€ã‹ã‚‰ã®ä¸€å ±ã§ã—ãŸã€‚èª¿æŸ»ã®çµæœã€Cloud Workstationsã‚’åˆ©ç”¨ã—ã¦ã„ãŸé–‹ç™ºè€…ãŒã€æ¥­å‹™ã§ä½¿ç”¨ã™ã¹ãã§ãªã„ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãªGitHubãƒªãƒã‚¸ãƒˆãƒªã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ãŸã“ã¨ãŒåˆ¤æ˜ã€‚å¹¸ã„å®Ÿå®³ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸãŒã€ã“ã®äº‹ä»¶ã‚’ãã£ã‹ã‘ã«ã€Œé–‹ç™ºç’°å¢ƒã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã‚’æ ¹æœ¬ã‹ã‚‰è¦‹ç›´ã™ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒç«‹ã¡ä¸ŠãŒã‚Šã¾ã—ãŸã€‚&lt;/p>
&lt;p>ã“ã‚Œã¯ã€ãã®æ™‚ã®å¤±æ•—ã¨å­¦ã³ã®è¨˜éŒ²ã§ã™ã€‚&lt;/p>
&lt;h2 id="ç¬¬ä¸€ç« æ¥½è¦³çš„ãªè¨­è¨ˆã®è½ã¨ã—ç©´">ç¬¬ä¸€ç« ï¼šæ¥½è¦³çš„ãªè¨­è¨ˆã®è½ã¨ã—ç©´
&lt;/h2>&lt;h3 id="äº‹æ•…å‰ã®ç’°å¢ƒ">äº‹æ•…å‰ã®ç’°å¢ƒ
&lt;/h3>&lt;p>äº‹æ•…ç™ºç”Ÿå‰ã®ç§ãŸã¡ã®é–‹ç™ºç’°å¢ƒã¯ã€ä¸€è¦‹åˆç†çš„ã«è¦‹ãˆã¾ã—ãŸï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># äº‹æ•…å‰ã®è¨­å®šï¼ˆå•é¡Œã‚ã‚Šï¼‰&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">allowed_urls&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;github.com/mycompany/*&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ä¼šç¤¾ã®ãƒªãƒã‚¸ãƒˆãƒªå…¨ä½“&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;*.npmjs.org&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># npm packages&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;pypi.org&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Python packages&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>ä½•ãŒå•é¡Œã ã£ãŸã®ã‹ï¼Ÿ&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>&lt;strong>çµ„ç¹”ãƒ¬ãƒ™ãƒ«ã®è¨±å¯&lt;/strong>: &lt;code>github.com/mycompany/*&lt;/code> ã¨ã„ã†è¨­å®šã«ã‚ˆã‚Šã€ç¤¾å“¡ãŒå€‹äººçš„ã«ä½œæˆã—ãŸãƒªãƒã‚¸ãƒˆãƒªã«ã‚‚ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½&lt;/li>
&lt;li>&lt;strong>ç›£æŸ»ã®ä¸å‚™&lt;/strong>: ã©ã®ãƒªãƒã‚¸ãƒˆãƒªã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã‚‹ã‹ã®è©³ç´°ãªè¨˜éŒ²ãŒãªã„&lt;/li>
&lt;li>&lt;strong>TLSæ¤œæŸ»ãªã—&lt;/strong>: HTTPSé€šä¿¡ã®ä¸­èº«ãŒè¦‹ãˆãšã€å…·ä½“çš„ãªAPIã‚³ãƒ¼ãƒ«ãŒè¿½è·¡ã§ããªã„&lt;/li>
&lt;/ol>
&lt;h3 id="å®Ÿéš›ã«èµ·ããŸäº‹æ•…">å®Ÿéš›ã«èµ·ããŸäº‹æ•…
&lt;/h3>&lt;p>ã‚ã‚‹é–‹ç™ºè€…ãŒã€æ¥­å‹™æ™‚é–“ä¸­ã«å€‹äººã®ã‚µã‚¤ãƒ‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒ¼ãƒ‰ã‚’ä¼šç¤¾ã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚¯ãƒ­ãƒ¼ãƒ³ã€‚ãã®ãƒªãƒã‚¸ãƒˆãƒªã«ã¯ã€ä»–ç¤¾ã®APIã‚­ãƒ¼ãŒå«ã¾ã‚Œã¦ã„ã¾ã—ãŸã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®Ÿéš›ã«å®Ÿè¡Œã•ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰ï¼ˆå•é¡Œã®ã‚ã‚‹ã‚‚ã®ï¼‰&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git clone https://github.com/mycompany/developer-personal-project.git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># â†‘ ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã«ä»–ç¤¾ã®APIã‚­ãƒ¼ãŒå«ã¾ã‚Œã¦ã„ãŸ&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>çµæœï¼š&lt;/p>
&lt;ul>
&lt;li>ä¼šç¤¾ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çµŒç”±ã§å¤–éƒ¨ã®APIã‚­ãƒ¼ãŒé€šä¿¡&lt;/li>
&lt;li>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ãŒã‚¢ãƒ©ãƒ¼ãƒˆã‚’ç™ºå ±&lt;/li>
&lt;li>ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹é•åã®ç–‘ã„ã§ç·Šæ€¥èª¿æŸ»é–‹å§‹&lt;/li>
&lt;/ul>
&lt;h2 id="ç¬¬äºŒç« å¿œæ€¥å‡¦ç½®ã®å®Ÿè£…ã¨æ–°ãŸãªå•é¡Œ">ç¬¬äºŒç« ï¼šå¿œæ€¥å‡¦ç½®ã®å®Ÿè£…ã¨æ–°ãŸãªå•é¡Œ
&lt;/h2>&lt;h3 id="ç·Šæ€¥å¯¾å¿œã¨ã‚Šã‚ãˆãšãƒ–ãƒ­ãƒƒã‚¯">ç·Šæ€¥å¯¾å¿œï¼šã¨ã‚Šã‚ãˆãšãƒ–ãƒ­ãƒƒã‚¯
&lt;/h3>&lt;p>ã¾ãšã€ç·Šæ€¥å¯¾å¿œã¨ã—ã¦å…¨ã¦ã®GitHubã‚¢ã‚¯ã‚»ã‚¹ã‚’ä¸€æ™‚çš„ã«ãƒ–ãƒ­ãƒƒã‚¯ã—ã¾ã—ãŸã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç·Šæ€¥å¯¾å¿œï¼ˆå…¨é¢ãƒ–ãƒ­ãƒƒã‚¯ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;google_network_security_gateway_security_policy&amp;#34; &amp;#34;emergency&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;emergency-block-all&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> location&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">region&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> description&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Emergency: Block all GitHub access&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;google_network_security_gateway_security_policy_rule&amp;#34; &amp;#34;block_github&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;block-github&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> location&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">region&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> gateway_security_policy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">google_network_security_gateway_security_policy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">emergency&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> priority&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">100&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> session_matcher&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="n"> &amp;#34;host()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="err">&amp;#39;&lt;/span>&lt;span class="k">github&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">com&lt;/span>&lt;span class="err">&amp;#39;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> basic_profile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;DENY&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>çµæœï¼šé–‹ç™ºãŒå®Œå…¨ã«ã‚¹ãƒˆãƒƒãƒ—&lt;/strong>&lt;/p>
&lt;p>å½“ç„¶ã§ã™ãŒã€é–‹ç™ºãƒãƒ¼ãƒ ã‹ã‚‰çŒ›çƒˆãªåç™ºãŒã€‚ã€Œä»•äº‹ã«ãªã‚‰ãªã„ã€ã€Œãƒ‡ãƒ—ãƒ­ã‚¤ã§ããªã„ã€ã¨ã„ã†å£°ãŒæ¬¡ã€…ã¨ã€‚&lt;/p>
&lt;h3 id="ç¬¬ä¸€å›ç›®ã®å¤±æ•—ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆæ–¹å¼">ç¬¬ä¸€å›ç›®ã®å¤±æ•—ï¼šãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆæ–¹å¼
&lt;/h3>&lt;p>æ¬¡ã«è©¦ã—ãŸã®ãŒã€å³é¸ã•ã‚ŒãŸãƒªãƒã‚¸ãƒˆãƒªã®ã¿ã‚’è¨±å¯ã™ã‚‹ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆæ–¹å¼ã§ã—ãŸã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç¬¬ä¸€å›ç›®ã®å®Ÿè£…ï¼ˆå¤±æ•—ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;google_network_security_gateway_security_policy_rule&amp;#34; &amp;#34;allow_specific_repos&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;allow-specific-repos&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> location&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">region&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> gateway_security_policy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">google_network_security_gateway_security_policy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">main&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> priority&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">100&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">session_matcher&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="err">&amp;lt;&amp;lt;-&lt;/span>&lt;span class="k">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> host()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="err">&amp;#39;&lt;/span>&lt;span class="k">github&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">com&lt;/span>&lt;span class="err">&amp;#39;&lt;/span> &lt;span class="err">&amp;amp;&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="k">inUrlPath&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">&amp;#39;/&lt;/span>&lt;span class="k">mycompany&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="k">project&lt;/span>&lt;span class="err">-&lt;/span>&lt;span class="k">a&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="err">||&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">inUrlPath&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">&amp;#39;/&lt;/span>&lt;span class="k">mycompany&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="k">project&lt;/span>&lt;span class="err">-&lt;/span>&lt;span class="k">b&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="err">||&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">inUrlPath&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">&amp;#39;/&lt;/span>&lt;span class="k">mycompany&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="k">project&lt;/span>&lt;span class="err">-&lt;/span>&lt;span class="k">c&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">basic_profile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;ALLOW&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>å•é¡Œç™ºç”Ÿï¼šgit cloneãŒé€šã‚‰ãªã„ï¼&lt;/strong>&lt;/p>
&lt;p>åœŸæ›œæ—¥ã®æœ8æ™‚ã€ç·Šæ€¥ã®é›»è©±ãŒå†ã³ã€‚&lt;/p>
&lt;p>ã€Œgit cloneãŒã§ãã¾ã›ã‚“ï¼ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ï¼ã€&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ git clone https://github.com/mycompany/project-a.git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fatal: unable to access &lt;span class="s1">&amp;#39;https://github.com/mycompany/project-a.git/&amp;#39;&lt;/span>:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">The requested URL returned error: &lt;span class="m">403&lt;/span> Forbidden
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ãƒ‡ãƒãƒƒã‚°åœ°ç„ã®å§‹ã¾ã‚Š">ãƒ‡ãƒãƒƒã‚°åœ°ç„ã®å§‹ã¾ã‚Š
&lt;/h3>&lt;p>å•é¡Œã®åŸå› ã‚’ç‰¹å®šã™ã‚‹ãŸã‚ã€æ·±å¤œã¾ã§ãƒ­ã‚°ã‚’è§£æã—ã¾ã—ãŸã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ãƒ­ã‚°è§£æã§åˆ¤æ˜ã—ãŸäº‹å®Ÿ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl -v https://github.com/mycompany/project-a.git/info/refs?service&lt;span class="o">=&lt;/span>git-upload-pack
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®Ÿéš›ã®gitã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. https://github.com/mycompany/project-a.git/info/refs&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. https://github.com/mycompany/project-a/git-upload-pack&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. https://api.github.com/repos/mycompany/project-a&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 4. https://objects.githubusercontent.com/...&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>åˆ¤æ˜ã—ãŸäº‹å®Ÿï¼šgitã®å†…éƒ¨å‹•ä½œã®è¤‡é›‘ã•&lt;/strong>&lt;/p>
&lt;p>å˜ç´”ã« &lt;code>/mycompany/project-a&lt;/code> ã‚’è¨±å¯ã™ã‚‹ã ã‘ã§ã¯ä¸ååˆ†ã§ã—ãŸã€‚Gitã¯å†…éƒ¨çš„ã«ï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;code>.git&lt;/code>ã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’ä»˜ã‘ã¦ã‚¢ã‚¯ã‚»ã‚¹&lt;/li>
&lt;li>&lt;code>api.github.com&lt;/code> ã®APIã‚’å‘¼ã³å‡ºã—&lt;/li>
&lt;li>&lt;code>objects.githubusercontent.com&lt;/code> ã‹ã‚‰ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰&lt;/li>
&lt;li>ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå…ˆã®URLã«ã‚¢ã‚¯ã‚»ã‚¹&lt;/li>
&lt;/ol>
&lt;h2 id="ç¬¬ä¸‰ç« tls-inspectionå°å…¥ã§ã®æ–°ãŸãªå£">ç¬¬ä¸‰ç« ï¼šTLS Inspectionå°å…¥ã§ã®æ–°ãŸãªå£
&lt;/h2>&lt;h3 id="tls-inspectionã®å®Ÿè£…æ±ºæ–­">TLS Inspectionã®å®Ÿè£…æ±ºæ–­
&lt;/h3>&lt;p>URLãƒ‘ã‚¹ãƒ¬ãƒ™ãƒ«ã§ã®åˆ¶å¾¡ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã€TLS Inspectionã‚’å°å…¥ã™ã‚‹ã“ã¨ã«ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;google_network_security_tls_inspection_policy&amp;#34; &amp;#34;main&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;${var.prefix}-tls-inspection&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> location&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">region&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> ca_pool&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">google_privateca_ca_pool&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">main&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> exclude_public_ca_set&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kt">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">description&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;TLS inspection for detailed URL filtering&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>æ–°ãŸãªå•é¡Œï¼šè¨¼æ˜æ›¸ã‚¨ãƒ©ãƒ¼ã®åµ&lt;/strong>&lt;/p>
&lt;p>TLS Inspectionã‚’æœ‰åŠ¹åŒ–ã—ãŸç¬é–“ã€é–‹ç™ºç’°å¢ƒã¯å†ã³ä½¿ç”¨ä¸å¯èƒ½ã«ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¤§é‡ã®è¨¼æ˜æ›¸ã‚¨ãƒ©ãƒ¼&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl: &lt;span class="o">(&lt;/span>60&lt;span class="o">)&lt;/span> SSL certificate problem: unable to get &lt;span class="nb">local&lt;/span> issuer certificate
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git: fatal: unable to access &lt;span class="s1">&amp;#39;https://github.com/&amp;#39;&lt;/span>: SSL certificate verify failed
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è¨¼æ˜æ›¸é…å¸ƒã®æˆ¦ã„">è¨¼æ˜æ›¸é…å¸ƒã®æˆ¦ã„
&lt;/h3>&lt;p>å„ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«è¨¼æ˜æ›¸ã‚’é…å¸ƒã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å„ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§å®Ÿè¡ŒãŒå¿…è¦ï¼ˆæ‰‹å‹•é…å¸ƒã®æ‚ªå¤¢ï¼‰&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo cp /path/to/inspection-ca.crt /usr/local/share/ca-certificates/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo update-ca-certificates
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Gitç”¨ã®è¨­å®š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git config --global http.sslCAInfo /usr/local/share/ca-certificates/inspection-ca.crt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>é…å¸ƒä½œæ¥­ã®ç¾å®Ÿï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>é–‹ç™ºè€…50å Ã— å¹³å‡3å°ã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ = 150å°ã®è¨­å®šä½œæ¥­&lt;/li>
&lt;li>æ‰‹å‹•é…å¸ƒã«ã‚ˆã‚‹è¨­å®šãƒŸã‚¹å¤šç™º&lt;/li>
&lt;li>é–‹ç™ºè€…ã‹ã‚‰ã®ã€Œé¢å€’ãã•ã„ã€ã¨ã„ã†ä¸æº€ã®å£°&lt;/li>
&lt;/ul>
&lt;h2 id="ç¬¬å››ç« è‡ªå‹•åŒ–ã¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒ–ã«ã‚ˆã‚‹è§£æ±º">ç¬¬å››ç« ï¼šè‡ªå‹•åŒ–ã¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒ–ã«ã‚ˆã‚‹è§£æ±º
&lt;/h2>&lt;h3 id="è‡ªå‹•è¨­å®šã‚¹ã‚¯ãƒªãƒ—ãƒˆã®é–‹ç™º">è‡ªå‹•è¨­å®šã‚¹ã‚¯ãƒªãƒ—ãƒˆã®é–‹ç™º
&lt;/h3>&lt;p>è¨¼æ˜æ›¸é…å¸ƒã‚’è‡ªå‹•åŒ–ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="c1"># setup-secure-proxy.sh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> -euo pipefail
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¨¼æ˜æ›¸ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¨è¨­å®š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Setting up secure proxy certificates...&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># GCS ã‹ã‚‰è¨¼æ˜æ›¸ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gsutil cp gs://company-security-certs/inspection-ca.crt /tmp/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ã‚·ã‚¹ãƒ†ãƒ ã«è¨¼æ˜æ›¸ã‚’è¿½åŠ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo cp /tmp/inspection-ca.crt /usr/local/share/ca-certificates/company-inspection-ca.crt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo update-ca-certificates
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Gitè¨­å®š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git config --global http.sslCAInfo /usr/local/share/ca-certificates/company-inspection-ca.crt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Python/pipè¨­å®š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pip config &lt;span class="nb">set&lt;/span> global.cert /usr/local/share/ca-certificates/company-inspection-ca.crt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Node.js/npmè¨­å®š &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm config &lt;span class="nb">set&lt;/span> cafile /usr/local/share/ca-certificates/company-inspection-ca.crt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Setup completed successfully!&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•æ™‚ã®è‡ªå‹•å®Ÿè¡Œ">ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•æ™‚ã®è‡ªå‹•å®Ÿè¡Œ
&lt;/h3>&lt;p>Cloud Workstationsã®èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ©Ÿèƒ½ã‚’æ´»ç”¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;google_workstations_workstation_config&amp;#34; &amp;#34;main&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> workstation_config_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;${var.prefix}-config&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> location&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">region&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> workstation_cluster_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">google_workstations_workstation_cluster&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">main&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">workstation_cluster_id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">container&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> image&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;us-central1-docker.pkg.dev/cloud-workstations-images/predefined/code-oss:latest&amp;#34;&lt;/span>&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"> # èµ·å‹•æ™‚ã«è¨¼æ˜æ›¸è¨­å®šã‚’è‡ªå‹•å®Ÿè¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n"> run_as_user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">1000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> working_dir&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;/home/user&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">env&lt;/span> &lt;span class="o">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> &amp;#34;SETUP_SCRIPT_URL&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;gs://company-scripts/setup-secure-proxy.sh&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"> # èµ·å‹•æ™‚ã«è‡ªå‹•å®Ÿè¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">persistent_directories&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> mount_path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;/home/user&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">gce_pd&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> size_gb&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">100&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ç¬¬äº”ç« æœ€çµ‚çš„ãªè§£æ±ºç­–ã®å®Ÿè£…">ç¬¬äº”ç« ï¼šæœ€çµ‚çš„ãªè§£æ±ºç­–ã®å®Ÿè£…
&lt;/h2>&lt;h3 id="å®Œæˆã—ãŸsecure-web-proxyãƒ«ãƒ¼ãƒ«">å®Œæˆã—ãŸSecure Web Proxyãƒ«ãƒ¼ãƒ«
&lt;/h3>&lt;p>æ•°é€±é–“ã®è©¦è¡ŒéŒ¯èª¤ã®æœ«ã€å®Œæˆã—ãŸãƒ«ãƒ¼ãƒ«ã‚»ãƒƒãƒˆï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æœ€çµ‚çš„ãªè§£æ±ºç­–
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;google_network_security_gateway_security_policy_rule&amp;#34; &amp;#34;allow_approved_repos&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;allow-approved-repos&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> location&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">region&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> gateway_security_policy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">google_network_security_gateway_security_policy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">main&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> priority&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">100&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> enabled&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kt">true&lt;/span>&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"> # æ‰¿èªã•ã‚ŒãŸãƒªãƒã‚¸ãƒˆãƒªã®ã¿è¨±å¯ï¼ˆæ­£è¦è¡¨ç¾ä½¿ç”¨ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n"> session_matcher&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="err">&amp;lt;&amp;lt;-&lt;/span>&lt;span class="k">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> host()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="err">&amp;#39;&lt;/span>&lt;span class="k">github&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">com&lt;/span>&lt;span class="err">&amp;#39;&lt;/span> &lt;span class="err">&amp;amp;&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="k">inUrlPath&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">&amp;#39;/&lt;/span>&lt;span class="k">mycompany&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="k">project&lt;/span>&lt;span class="err">-&lt;/span>&lt;span class="k">backend&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="err">||&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">inUrlPath&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">&amp;#39;/&lt;/span>&lt;span class="k">mycompany&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="k">project&lt;/span>&lt;span class="err">-&lt;/span>&lt;span class="k">frontend&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="err">||&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">inUrlPath&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">&amp;#39;/&lt;/span>&lt;span class="k">mycompany&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="k">shared&lt;/span>&lt;span class="err">-&lt;/span>&lt;span class="k">utils&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="err">||&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">inUrlPath&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">&amp;#39;/&lt;/span>&lt;span class="k">mycompany&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="k">infrastructure&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">basic_profile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;ALLOW&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># GitHub API ã‚¢ã‚¯ã‚»ã‚¹ç”¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;google_network_security_gateway_security_policy_rule&amp;#34; &amp;#34;allow_github_api&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;allow-github-api&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> location&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">region&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> gateway_security_policy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">google_network_security_gateway_security_policy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">main&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> priority&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">101&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> enabled&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kt">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">session_matcher&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="err">&amp;lt;&amp;lt;-&lt;/span>&lt;span class="k">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> host()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="err">&amp;#39;&lt;/span>&lt;span class="k">api&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">github&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">com&lt;/span>&lt;span class="err">&amp;#39;&lt;/span> &lt;span class="err">&amp;amp;&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="k">inUrlPath&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">&amp;#39;/&lt;/span>&lt;span class="k">repos&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="k">mycompany&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="k">project&lt;/span>&lt;span class="err">-&lt;/span>&lt;span class="k">backend&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="err">||&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">inUrlPath&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">&amp;#39;/&lt;/span>&lt;span class="k">repos&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="k">mycompany&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="k">project&lt;/span>&lt;span class="err">-&lt;/span>&lt;span class="k">frontend&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="err">||&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">inUrlPath&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">&amp;#39;/&lt;/span>&lt;span class="k">repos&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="k">mycompany&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="k">shared&lt;/span>&lt;span class="err">-&lt;/span>&lt;span class="k">utils&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="err">||&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">inUrlPath&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">&amp;#39;/&lt;/span>&lt;span class="k">repos&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="k">mycompany&lt;/span>&lt;span class="err">/&lt;/span>&lt;span class="k">infrastructure&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">basic_profile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;ALLOW&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Git ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé…ä¿¡ç”¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;google_network_security_gateway_security_policy_rule&amp;#34; &amp;#34;allow_git_objects&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;allow-git-objects&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> location&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">var&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">region&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> gateway_security_policy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">google_network_security_gateway_security_policy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">main&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> priority&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">102&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> enabled&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kt">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">session_matcher&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="n"> &amp;#39;host()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;objects.githubusercontent.com&amp;#34;&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> basic_profile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;ALLOW&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ç›£æŸ»ã¨ãƒ­ã‚®ãƒ³ã‚°ã®å¼·åŒ–">ç›£æŸ»ã¨ãƒ­ã‚®ãƒ³ã‚°ã®å¼·åŒ–
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-hcl" data-lang="hcl">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è©³ç´°ãªãƒ­ã‚®ãƒ³ã‚°è¨­å®š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">resource&lt;/span> &lt;span class="s2">&amp;#34;google_logging_log_sink&amp;#34; &amp;#34;proxy_logs&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;${var.prefix}-proxy-logs&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> destination&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;bigquery.googleapis.com/projects/${var.project_id}/datasets/security_logs&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="err">&amp;lt;&amp;lt;-&lt;/span>&lt;span class="k">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> resource.type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;gce_network&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> AND protoPayload.serviceName&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;networksecurity.googleapis.com&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> AND protoPayload.methodName&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;google.cloud.networksecurity.v1.NetworkSecurity.EvaluatePolicy&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">bigquery_options&lt;/span> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n"> use_partitioned_tables&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kt">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ãƒªãƒã‚¸ãƒˆãƒªè¿½åŠ ã®ãƒ—ãƒ­ã‚»ã‚¹è‡ªå‹•åŒ–">ãƒªãƒã‚¸ãƒˆãƒªè¿½åŠ ã®ãƒ—ãƒ­ã‚»ã‚¹è‡ªå‹•åŒ–
&lt;/h3>&lt;p>é–‹ç™ºãƒãƒ¼ãƒ ãŒã‚¹ãƒˆãƒ¬ã‚¹ãªãæ–°ã—ã„ãƒªãƒã‚¸ãƒˆãƒªã‚’è¿½åŠ ã§ãã‚‹ã‚ˆã†ã€ã‚»ãƒ«ãƒ•ã‚µãƒ¼ãƒ“ã‚¹ãƒãƒ¼ã‚¿ãƒ«ã‚‚æ§‹ç¯‰ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># repository_approval_bot.py&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">json&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">google.cloud&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">storage&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">github&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Github&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">approve_repository_request&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;GitHub Issueã‹ã‚‰ãƒªãƒã‚¸ãƒˆãƒªè¨±å¯ç”³è«‹ã‚’å‡¦ç†&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># GitHub Issueã‹ã‚‰ç”³è«‹æƒ…å ±ã‚’è§£æ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">issue_body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">json&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;issue&amp;#39;&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="s1">&amp;#39;body&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">repo_name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">extract_repo_name&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">issue_body&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">business_justification&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">extract_justification&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">issue_body&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># æ‰¿èªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆç°¡ç•¥åŒ–ï¼‰&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">validate_business_case&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">business_justification&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># Terraformã‚³ãƒ¼ãƒ‰ã‚’è‡ªå‹•æ›´æ–°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">update_terraform_config&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">repo_name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># PRä½œæˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">create_infrastructure_pr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">repo_name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># Slacké€šçŸ¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">notify_security_team&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">repo_name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">business_justification&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;status&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s1">&amp;#39;processed&amp;#39;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ç¬¬å…­ç« é‹ç”¨é–‹å§‹å¾Œã®ç¾å®Ÿ">ç¬¬å…­ç« ï¼šé‹ç”¨é–‹å§‹å¾Œã®ç¾å®Ÿ
&lt;/h2>&lt;h3 id="æˆåŠŸæŒ‡æ¨™">æˆåŠŸæŒ‡æ¨™
&lt;/h3>&lt;p>å®Ÿè£…ã‹ã‚‰3ãƒ¶æœˆå¾Œã®çµæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»çµæœ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹äº‹æ¡ˆ: 0ä»¶
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- è¨±å¯ã•ã‚Œã¦ã„ãªã„ãƒªãƒã‚¸ãƒˆãƒªã¸ã®ã‚¢ã‚¯ã‚»ã‚¹è©¦è¡Œ: 127ä»¶ï¼ˆå…¨ã¦ãƒ–ãƒ­ãƒƒã‚¯æ¸ˆï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- é–‹ç™ºè€…æº€è¶³åº¦: 8.2/10ï¼ˆåˆæœŸ3.1ã‹ã‚‰å¤§å¹…æ”¹å–„ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- ãƒªãƒã‚¸ãƒˆãƒªè¿½åŠ ç”³è«‹ã®å¹³å‡å‡¦ç†æ™‚é–“: 2.3æ™‚é–“ï¼ˆä»¥å‰ã¯2-3æ—¥ï¼‰
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æƒ³å®šå¤–ã ã£ãŸå•é¡Œ">æƒ³å®šå¤–ã ã£ãŸå•é¡Œ
&lt;/h3>&lt;p>&lt;strong>1. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®åŠ£åŒ–&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># TLS Inspectionã«ã‚ˆã‚‹ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·å¢—åŠ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git cloneæ€§èƒ½æ¯”è¼ƒ:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹: 15ç§’
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- Secure Web ProxyçµŒç”±: 23ç§’ï¼ˆç´„50%å¢—ï¼‰
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>å¯¾ç­–ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>åœ°åŸŸåˆ¥Proxyã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®é…ç½®&lt;/li>
&lt;li>ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ã®æ´»ç”¨&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>2. å¤–éƒ¨ä¾å­˜é–¢ä¿‚ã®å•é¡Œ&lt;/strong>
npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ãŒå¤šç™ºã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®Ÿéš›ã«èµ·ããŸå•é¡Œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm install axios
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ERROR: Unable to verify SSL certificate for registry.npmjs.org&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>å¯¾ç­–ï¼š&lt;/strong>
ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ¬ã‚¸ã‚¹ãƒˆãƒªç”¨ã®åˆ¥ãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ ã€‚&lt;/p>
&lt;h3 id="ç¾åœ¨é€²è¡Œå½¢ã®èª²é¡Œ">ç¾åœ¨é€²è¡Œå½¢ã®èª²é¡Œ
&lt;/h3>&lt;p>&lt;strong>1. é‹ç”¨ã‚³ã‚¹ãƒˆ&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>TLS Inspectionã®å‡¦ç†ã«ã‚ˆã‚‹ã‚³ã‚¹ãƒˆå¢—ï¼ˆæœˆé¡ç´„40ä¸‡å††å¢—ï¼‰&lt;/li>
&lt;li>å°‚ä»»ç®¡ç†è€…ã®é…ç½®ãŒå¿…è¦&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>2. æ–°æŠ€è¡“ã¸ã®å¯¾å¿œ&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>GitHub Codespacesä½¿ç”¨æ™‚ã®åˆ¶ç´„&lt;/li>
&lt;li>Docker Hubç­‰ã€æ–°ã—ã„ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã¸ã®å¯¾å¿œ&lt;/li>
&lt;/ul>
&lt;h2 id="ç¬¬ä¸ƒç« å¾—ã‚‰ã‚ŒãŸæ•™è¨“ã¨ä»Šå¾Œã®å±•æœ›">ç¬¬ä¸ƒç« ï¼šå¾—ã‚‰ã‚ŒãŸæ•™è¨“ã¨ä»Šå¾Œã®å±•æœ›
&lt;/h2>&lt;h3 id="5ã¤ã®é‡è¦ãªæ•™è¨“">5ã¤ã®é‡è¦ãªæ•™è¨“
&lt;/h3>&lt;p>&lt;strong>1. å®Œç’§ã‚’æ±‚ã‚ã™ããªã„&lt;/strong>
åˆæœŸã¯100%ã‚»ã‚­ãƒ¥ã‚¢ãªç’°å¢ƒã‚’ç›®æŒ‡ã—ã¾ã—ãŸãŒã€å®Ÿç”¨æ€§ã¨ã®ãƒãƒ©ãƒ³ã‚¹ãŒé‡è¦ã€‚&lt;/p>
&lt;p>&lt;strong>2. é–‹ç™ºè€…ä½“é¨“ã‚’è»½è¦–ã—ãªã„&lt;/strong>
ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’ç†ç”±ã«é–‹ç™ºåŠ¹ç‡ã‚’è‘—ã—ãä¸‹ã’ã‚‹ã¨ã€çµæœçš„ã«æŠœã‘é“ã‚’ä½œã‚‰ã‚Œã‚‹ã€‚&lt;/p>
&lt;p>&lt;strong>3. æ®µéšçš„ãªå°å…¥&lt;/strong>
ä¸€åº¦ã«å…¨ã¦ã‚’å¤‰æ›´ã›ãšã€æ®µéšçš„ã«ãƒ«ãƒ¼ãƒ«ã‚’å³æ ¼åŒ–ã€‚&lt;/p>
&lt;p>&lt;strong>4. è‡ªå‹•åŒ–ã¯å¿…é ˆ&lt;/strong>
æ‰‹å‹•ä½œæ¥­ãŒå¤šã„ã¨ã€å¿…ãšé‹ç”¨ãŒç ´ç¶»ã™ã‚‹ã€‚&lt;/p>
&lt;p>&lt;strong>5. é€æ˜æ€§ã®ç¢ºä¿&lt;/strong>
ãªãœãã®ãƒ«ãƒ¼ãƒ«ãŒå¿…è¦ãªã®ã‹ã€é–‹ç™ºè€…ã«ç†è§£ã—ã¦ã‚‚ã‚‰ã†ã€‚&lt;/p>
&lt;h3 id="ä»Šå¾Œã®è¨ˆç”»">ä»Šå¾Œã®è¨ˆç”»
&lt;/h3>&lt;p>&lt;strong>çŸ­æœŸï¼ˆ3ãƒ¶æœˆä»¥å†…ï¼‰:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ã‚ˆã‚Šç´°ã‹ã„ç²’åº¦ã§ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ï¼ˆãƒ–ãƒ©ãƒ³ãƒãƒ¬ãƒ™ãƒ«ï¼‰&lt;/li>
&lt;li>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®ã‚¢ã‚¯ã‚»ã‚¹ç›£è¦–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ä¸­æœŸï¼ˆ6ãƒ¶æœˆä»¥å†…ï¼‰:&lt;/strong>
-æ©Ÿæ¢°å­¦ç¿’ã«ã‚ˆã‚‹ç•°å¸¸æ¤œçŸ¥&lt;/p>
&lt;ul>
&lt;li>é–‹ç™ºè€…æ¯ã®ãƒªã‚¹ã‚¯ã‚¹ã‚³ã‚¢ç®—å‡º&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>é•·æœŸï¼ˆ1å¹´ä»¥å†…ï¼‰:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ã‚¼ãƒ­ãƒˆãƒ©ã‚¹ãƒˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ¢ãƒ‡ãƒ«ã®å®Œå…¨å®Ÿè£…&lt;/li>
&lt;li>ä»–ç¤¾äº‹ä¾‹ã®å…±æœ‰ã«ã‚ˆã‚‹ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è²¢çŒ®&lt;/li>
&lt;/ul>
&lt;h2 id="ã¾ã¨ã‚å¤±æ•—ã‹ã‚‰å­¦ã‚“ã æœ¬å½“ã«å¤§åˆ‡ãªã“ã¨">ã¾ã¨ã‚ï¼šå¤±æ•—ã‹ã‚‰å­¦ã‚“ã æœ¬å½“ã«å¤§åˆ‡ãªã“ã¨
&lt;/h2>&lt;p>ã“ã®3ãƒ¶æœˆé–“ã®çµŒé¨“ã§æœ€ã‚‚å­¦ã‚“ã ã“ã¨ã¯ã€**ã€Œã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ç”Ÿç”£æ€§ã¯å¯¾ç«‹ã™ã‚‹ã‚‚ã®ã§ã¯ãªãã€é©åˆ‡ã«è¨­è¨ˆã™ã‚Œã°ãŠäº’ã„ã‚’é«˜ã‚åˆãˆã‚‹ã€**ã¨ã„ã†ã“ã¨ã§ã™ã€‚&lt;/p>
&lt;p>æœ€åˆã®äº‹æ•…ã¯ç¢ºã‹ã«å¤§ããªã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã§ã—ãŸãŒã€ãã‚Œã‚’ãã£ã‹ã‘ã«çµ„ç¹”å…¨ä½“ã§ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ„è­˜ãŒå‘ä¸Šã—ã€çµæœçš„ã«ã¯ä»¥å‰ã‚ˆã‚Šå®‰å…¨ã§åŠ¹ç‡çš„ãªé–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã§ãã¾ã—ãŸã€‚&lt;/p>
&lt;p>é‡è¦ãªã®ã¯ã€å¤±æ•—ã‚’æã‚Œãšã«è©¦è¡ŒéŒ¯èª¤ã‚’ç¶šã‘ã‚‹ã“ã¨ã€‚ãã—ã¦ã€æŠ€è¡“çš„ãªè§£æ±ºç­–ã ã‘ã§ãªãã€äººã¨ãƒ—ãƒ­ã‚»ã‚¹ã®æ”¹å–„ã‚‚åŒæ™‚ã«é€²ã‚ã‚‹ã“ã¨ã§ã—ãŸã€‚&lt;/p>
&lt;p>åŒã˜ã‚ˆã†ãªèª²é¡Œã«ç›´é¢ã—ã¦ã„ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚ä½•ã‹è³ªå•ãŒã‚ã‚Œã°ã€ãŠæ°—è»½ã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’ãŠæ®‹ã—ãã ã•ã„ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å®Ÿè£…è©³ç´°è³‡æ–™">å®Ÿè£…è©³ç´°è³‡æ–™
&lt;/h2>&lt;p>ä»Šå›ã®å®Ÿè£…ã§ä½¿ç”¨ã—ãŸTerraformã‚³ãƒ¼ãƒ‰ã‚„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã€&lt;a class="link" href="https://github.com/company/secure-workstation-setup" target="_blank" rel="noopener"
>ã“ã¡ã‚‰ã®GitHubãƒªãƒã‚¸ãƒˆãƒª&lt;/a>ã§å…¬é–‹ã—ã¦ã„ã¾ã™ï¼ˆç¤¾å†…é™å®šï¼‰ã€‚&lt;/p>
&lt;h3 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®
&lt;/h3>&lt;ul>
&lt;li>&lt;a class="link" href="https://cloud.google.com/secure-web-proxy/docs" target="_blank" rel="noopener"
>Google Cloud Secure Web Proxy Documentation&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://cloud.google.com/workstations/docs/security-best-practices" target="_blank" rel="noopener"
>Cloud Workstations Security Best Practices&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://cloud.google.com/secure-web-proxy/docs/tls-inspection" target="_blank" rel="noopener"
>TLS Inspection Implementation Guide&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Cloud Logging ã§ VPC Service Controls ã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’ç¢ºå®Ÿã«æ¢ã™æ–¹æ³•</title><link>https://firebird-techtalktech.com/post/cloud-logging-%E3%81%A7-vpc-service-controls-%E3%81%AE%E3%82%A8%E3%83%A9%E3%83%BC%E3%83%AD%E3%82%B0%E3%82%92%E7%A2%BA%E5%AE%9F%E3%81%AB%E6%8E%A2%E3%81%99%E6%96%B9%E6%B3%95/</link><pubDate>Sat, 13 Sep 2025 22:15:00 +0900</pubDate><guid>https://firebird-techtalktech.com/post/cloud-logging-%E3%81%A7-vpc-service-controls-%E3%81%AE%E3%82%A8%E3%83%A9%E3%83%BC%E3%83%AD%E3%82%B0%E3%82%92%E7%A2%BA%E5%AE%9F%E3%81%AB%E6%8E%A2%E3%81%99%E6%96%B9%E6%B3%95/</guid><description>&lt;p>ã€ŒVPC Service Controls ã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã€ãªã‹ãªã‹è¦‹ã¤ã‹ã‚‰ãªã„â€¦ã€&lt;/p>
&lt;p>Google Cloud ã‚’ä½¿ã£ã¦ã„ã‚‹å¤šãã®æ–¹ãŒã€ä¸€åº¦ã¯ãã†æ„Ÿã˜ãŸã“ã¨ãŒã‚ã‚‹ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚ãŸã  VPC Service Controls ã¨æ–‡å­—åˆ—æ¤œç´¢ã—ã¦ã‚‚ã€UIä¸Šã«ã¯è¡¨ç¤ºã•ã‚Œã‚‹ã®ã«ã€ãƒ•ã‚£ãƒ«ã‚¿ã«ã¯ãƒ’ãƒƒãƒˆã—ãªã„ã“ã¨ãŒã‚ˆãã‚ã‚Šã¾ã™ã€‚&lt;/p>
&lt;p>ã“ã®è¨˜äº‹ã§ã¯ã€Cloud Logging ã®ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½ã‚’ä½¿ã£ã¦ã€VPC Service Controls (VPCSC) ã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’ç¢ºå®Ÿã«ã€ãã—ã¦åŠ¹ç‡çš„ã«è¦‹ã¤ã‘å‡ºã™ãŸã‚ã®æ–¹æ³•ã‚’è§£èª¬ã—ã¾ã™ã€‚&lt;/p>
&lt;h2 id="ãªãœã‚·ãƒ³ãƒ—ãƒ«ãªãƒ•ã‚£ãƒ«ã‚¿ã§ã¯ä¸ååˆ†ãªã®ã‹">ãªãœã‚·ãƒ³ãƒ—ãƒ«ãªãƒ•ã‚£ãƒ«ã‚¿ã§ã¯ä¸ååˆ†ãªã®ã‹ï¼Ÿ
&lt;/h2>&lt;p>Cloud Logging ã®æ¤œç´¢çª“ã« &amp;ldquo;VPC Service Controls&amp;rdquo; ã¨å…¥åŠ›ã—ã¦ã‚‚ãƒ­ã‚°ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã®ã¯ã€ãƒ­ã‚°ã®è¡¨ç¤ºæ–¹æ³•ã¨å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ãŒç•°ãªã‚‹ãŸã‚ã§ã™ã€‚&lt;/p>
&lt;h3 id="ãƒ­ã‚°ã®è¡¨ç¤ºã¨å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®é•ã„">ãƒ­ã‚°ã®è¡¨ç¤ºã¨å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®é•ã„
&lt;/h3>&lt;p>Cloud Logging ã® UI ä¸Šã§è¡¨ç¤ºã•ã‚Œã‚‹ã€ŒVPC Service Controlsã€ã¨ã„ã†ãƒ†ã‚­ã‚¹ãƒˆã¯ã€ãƒ­ã‚°ã‚¨ãƒ³ãƒˆãƒªã®**æ§‹é€ åŒ–ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ï¼ˆJSONï¼‰**ã®ä¸­ã‹ã‚‰æŠ½å‡ºã•ã‚ŒãŸã‚Šã€UIç‹¬è‡ªã®ãƒ©ãƒ™ãƒ«ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã»ã¨ã‚“ã©ã§ã™ã€‚ãã®ãŸã‚ã€å˜ç´”ãªæ–‡å­—åˆ—æ¤œç´¢ã§ã¯ç›®çš„ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ãŸã©ã‚Šç€ã‘ãªã„ã®ã§ã™ã€‚&lt;/p>
&lt;h3 id="vpc-sc-ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®ç‰¹å¾´">VPC SC ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®ç‰¹å¾´
&lt;/h3>&lt;p>VPC Service Controls ã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã¯ã€ä»¥ä¸‹ã®ç‰¹å¾´ã‚’æŒã£ã¦ã„ã¾ã™ï¼š&lt;/p>
&lt;h4 id="1-ç‰¹å®šã®ãƒ­ã‚°ã‚¿ã‚¤ãƒ—ã«åˆ†é¡ã•ã‚Œã‚‹">1. ç‰¹å®šã®ãƒ­ã‚°ã‚¿ã‚¤ãƒ—ã«åˆ†é¡ã•ã‚Œã‚‹
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">cloudaudit.googleapis.com/policy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ã®ã‚ˆã†ãªã€ãƒãƒªã‚·ãƒ¼ç›£æŸ»ãƒ­ã‚°ã«åˆ†é¡ã•ã‚Œã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚&lt;/p>
&lt;h4 id="2-æ§‹é€ åŒ–ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼æƒ…å ±">2. æ§‹é€ åŒ–ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼æƒ…å ±
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;protoPayload&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;metadata&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;@type&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;type.googleapis.com/google.cloud.audit.VpcServiceControlAuditMetadata&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;status&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;code&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;message&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Request is prohibited by organization&amp;#39;s policy. vpcServiceControlsUniqueIdentifier: ...&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;details&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;violations&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;type&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;VPC_SERVICE_CONTROLS&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ã“ã®ã‚ˆã†ãªæ§‹é€ ã®ä¸­ã«ã€ã‚¨ãƒ©ãƒ¼ã®ç†ç”±ã‚„è©³ç´°ãŒæ ¼ç´ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;/p>
&lt;h2 id="åŠ¹æœçš„ãªãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶3ã¤ã®ãƒ¬ã‚·ãƒ”">åŠ¹æœçš„ãªãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ï¼š3ã¤ã®ãƒ¬ã‚·ãƒ”
&lt;/h2>&lt;p>ãƒ­ã‚°ã®æ§‹é€ ã‚’ç†è§£ã™ã‚Œã°ã€ã‚ã¨ã¯é©åˆ‡ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã™ã€‚ä»¥ä¸‹ã«ã€VPC SC ã‚¨ãƒ©ãƒ¼ã‚’æŠ½å‡ºã™ã‚‹ãŸã‚ã®3ã¤ã®å¼·åŠ›ãªãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚&lt;/p>
&lt;h3 id="ãƒ¬ã‚·ãƒ”-1ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—ã§ãƒ•ã‚£ãƒ«ã‚¿ã™ã‚‹æœ€ã‚‚æ­£ç¢º">ãƒ¬ã‚·ãƒ” 1ï¼šãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—ã§ãƒ•ã‚£ãƒ«ã‚¿ã™ã‚‹ï¼ˆæœ€ã‚‚æ­£ç¢ºï¼‰
&lt;/h3>&lt;p>VPC SC ã®ç›£æŸ»ãƒ­ã‚°ã«ã¯ã€å›ºæœ‰ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚’ç›´æ¥æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€æœ€ã‚‚æ­£ç¢ºã«ãƒ­ã‚°ã‚’çµã‚Šè¾¼ã‚ã¾ã™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">protoPayload&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">metadata&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="err">@&lt;/span>&lt;span class="n">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;type.googleapis.com/google.cloud.audit.VpcServiceControlAuditMetadata&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>ä½¿ç”¨å ´é¢&lt;/strong>: VPC SC é–¢é€£ã®ã™ã¹ã¦ã®ãƒ­ã‚°ã‚’ç¢ºå®Ÿã«æŠ½å‡ºã—ãŸã„å ´åˆ&lt;/p>
&lt;p>&lt;strong>ãƒ¡ãƒªãƒƒãƒˆ&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>æœ€ã‚‚æ­£ç¢ºæ€§ãŒé«˜ã„&lt;/li>
&lt;li>å½é™½æ€§ï¼ˆé–¢ä¿‚ãªã„ãƒ­ã‚°ï¼‰ãŒæœ€ã‚‚å°‘ãªã„&lt;/li>
&lt;li>VPC SC ã®è¨­å®šå¤‰æ›´å±¥æ­´ãªã©ã‚‚å«ã‚ã¦æ¤œç´¢å¯èƒ½&lt;/li>
&lt;/ul>
&lt;h3 id="ãƒ¬ã‚·ãƒ”-2é•åã‚¿ã‚¤ãƒ—ã§ãƒ•ã‚£ãƒ«ã‚¿ã™ã‚‹">ãƒ¬ã‚·ãƒ” 2ï¼šé•åã‚¿ã‚¤ãƒ—ã§ãƒ•ã‚£ãƒ«ã‚¿ã™ã‚‹
&lt;/h3>&lt;p>VPC SC ã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã«ã¯ã€violationsï¼ˆé•åï¼‰ã¨ã„ã†ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå«ã¾ã‚Œã¦ãŠã‚Šã€ãã®ä¸­ã«é•åã‚¿ã‚¤ãƒ—ãŒæ˜è¨˜ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">protoPayload&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">details&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">violations&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;VPC_SERVICE_CONTROLS&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>ä½¿ç”¨å ´é¢&lt;/strong>: ã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦ãªã©ã€å®Ÿéš›ã®é•åãƒ­ã‚°ã®ã¿ã‚’è¦‹ãŸã„å ´åˆ&lt;/p>
&lt;p>&lt;strong>ãƒ¡ãƒªãƒƒãƒˆ&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã«ç‰¹åŒ–ã—ãŸæ¤œç´¢ãŒå¯èƒ½&lt;/li>
&lt;li>é•åã®è©³ç´°æƒ…å ±ã‚‚åŒæ™‚ã«å–å¾—ã§ãã‚‹&lt;/li>
&lt;li>ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«æœ€é©&lt;/li>
&lt;/ul>
&lt;h3 id="ãƒ¬ã‚·ãƒ”-3ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ãƒ•ã‚£ãƒ«ã‚¿ã™ã‚‹">ãƒ¬ã‚·ãƒ” 3ï¼šã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ãƒ•ã‚£ãƒ«ã‚¿ã™ã‚‹
&lt;/h3>&lt;p>VPC SC ã«ã‚ˆã‚‹ã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦ã‚¨ãƒ©ãƒ¼ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ã¯ã€&lt;code>vpcServiceControlsUniqueIdentifier&lt;/code> ã¨ã„ã†æ–‡å­—åˆ—ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">protoPayload&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">message&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;vpcServiceControlsUniqueIdentifier&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>ä½¿ç”¨å ´é¢&lt;/strong>: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰å•é¡Œã‚’ç‰¹å®šã—ãŸã„å ´åˆ&lt;/p>
&lt;p>&lt;strong>ãƒ¡ãƒªãƒƒãƒˆ&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>äººé–“ãŒèª­ã¿ã‚„ã™ã„ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ã¨ã‚‚ã«æ¤œç´¢&lt;/li>
&lt;li>ãƒ¦ãƒ‹ãƒ¼ã‚¯è­˜åˆ¥å­ã§ã‚µãƒãƒ¼ãƒˆã‚±ãƒ¼ã‚¹ã¨ã®ç…§åˆãŒå®¹æ˜“&lt;/li>
&lt;li>å…·ä½“çš„ãªã‚¨ãƒ©ãƒ¼å†…å®¹ãŒæŠŠæ¡ã—ã‚„ã™ã„&lt;/li>
&lt;/ul>
&lt;h2 id="å®Ÿè·µçš„ãªçµ„ã¿åˆã‚ã›ãƒ•ã‚£ãƒ«ã‚¿">å®Ÿè·µçš„ãªçµ„ã¿åˆã‚ã›ãƒ•ã‚£ãƒ«ã‚¿
&lt;/h2>&lt;h3 id="åŸºæœ¬çš„ãªçµ„ã¿åˆã‚ã›">åŸºæœ¬çš„ãªçµ„ã¿åˆã‚ã›
&lt;/h3>&lt;p>ä¸Šè¨˜ã®ã„ãšã‚Œã‹1ã¤ã®ãƒ¬ã‚·ãƒ”ã«åŠ ãˆã€ä»¥ä¸‹ã®æ¡ä»¶ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šç¢ºå®Ÿã«ç›®çš„ã®ãƒ­ã‚°ã«ãŸã©ã‚Šç€ã‘ã¾ã™ã€‚&lt;/p>
&lt;h4 id="ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã«é™å®š">ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã«é™å®š
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">severity=ERROR
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã«é™å®šã™ã‚‹ã“ã¨ã§ã€ç„¡é§„ãªãƒ­ã‚°ã‚’æ’é™¤ã§ãã¾ã™ã€‚&lt;/p>
&lt;h4 id="ãƒ­ã‚°ã‚¿ã‚¤ãƒ—ã‚’æŒ‡å®š">ãƒ­ã‚°ã‚¿ã‚¤ãƒ—ã‚’æŒ‡å®š
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">logName=&amp;#34;projects/YOUR_PROJECT_ID/logs/cloudaudit.googleapis.com%2Fpolicy&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>VPC SC ã®ãƒ­ã‚°ã¯ã€ãƒãƒªã‚·ãƒ¼ç›£æŸ»ãƒ­ã‚°ã«åˆ†é¡ã•ã‚Œã‚‹ã“ã¨ãŒå¤šã„ãŸã‚ã€ã“ã®ãƒ­ã‚°åã§æ¤œç´¢ã™ã‚‹ã¨åŠ¹ç‡çš„ã§ã™ã€‚ï¼ˆYOUR_PROJECT_ID ã¯ã”è‡ªèº«ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆIDã«ç½®ãæ›ãˆã¦ãã ã•ã„ï¼‰&lt;/p>
&lt;h3 id="å®Œå…¨ãªãƒ•ã‚£ãƒ«ã‚¿ä¾‹">å®Œå…¨ãªãƒ•ã‚£ãƒ«ã‚¿ä¾‹
&lt;/h3>&lt;h4 id="ãƒ‘ã‚¿ãƒ¼ãƒ³1-åŒ…æ‹¬çš„ãªvpc-scãƒ­ã‚°æ¤œç´¢">ãƒ‘ã‚¿ãƒ¼ãƒ³1: åŒ…æ‹¬çš„ãªVPC SCãƒ­ã‚°æ¤œç´¢
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">severity&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">ERROR&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logName&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;projects/YOUR_PROJECT_ID/logs/cloudaudit.googleapis.com&lt;/span>&lt;span class="si">%2F&lt;/span>&lt;span class="s2">policy&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">protoPayload&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">metadata&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="err">@&lt;/span>&lt;span class="n">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;type.googleapis.com/google.cloud.audit.VpcServiceControlAuditMetadata&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ãƒ‘ã‚¿ãƒ¼ãƒ³2-ã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦ã‚¨ãƒ©ãƒ¼ã«ç‰¹åŒ–">ãƒ‘ã‚¿ãƒ¼ãƒ³2: ã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦ã‚¨ãƒ©ãƒ¼ã«ç‰¹åŒ–
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">severity&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">ERROR&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">protoPayload&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">details&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">violations&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;VPC_SERVICE_CONTROLS&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">timestamp&lt;/span>&lt;span class="o">&amp;gt;=&lt;/span>&lt;span class="s2">&amp;#34;2025-09-13T00:00:00Z&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ãƒ‘ã‚¿ãƒ¼ãƒ³3-ç‰¹å®šã®ã‚µãƒ¼ãƒ“ã‚¹ã«é–¢é€£ã™ã‚‹ã‚¨ãƒ©ãƒ¼">ãƒ‘ã‚¿ãƒ¼ãƒ³3: ç‰¹å®šã®ã‚µãƒ¼ãƒ“ã‚¹ã«é–¢é€£ã™ã‚‹ã‚¨ãƒ©ãƒ¼
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">protoPayload&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">message&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;vpcServiceControlsUniqueIdentifier&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">protoPayload&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">serviceName&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;storage.googleapis.com&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">severity&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">ERROR&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ãƒ­ã‚°åˆ†æã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹">ãƒ­ã‚°åˆ†æã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
&lt;/h2>&lt;h3 id="1-æ™‚é–“ç¯„å›²ã®æŒ‡å®š">1. æ™‚é–“ç¯„å›²ã®æŒ‡å®š
&lt;/h3>&lt;p>å¤§é‡ã®ãƒ­ã‚°ãŒã‚ã‚‹ç’°å¢ƒã§ã¯ã€æ™‚é–“ç¯„å›²ã‚’é©åˆ‡ã«æŒ‡å®šã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">timestamp&amp;gt;=&amp;#34;2025-09-13T00:00:00Z&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">timestamp&amp;lt;=&amp;#34;2025-09-13T23:59:59Z&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="2-è¤‡æ•°æ¡ä»¶ã®çµ„ã¿åˆã‚ã›">2. è¤‡æ•°æ¡ä»¶ã®çµ„ã¿åˆã‚ã›
&lt;/h3>&lt;p>ANDæ¡ä»¶ã¨ORæ¡ä»¶ã‚’é©åˆ‡ã«ä½¿ã„åˆ†ã‘ã¾ã™ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="n">protoPayload&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">metadata&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="err">@&lt;/span>&lt;span class="n">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;type.googleapis.com/google.cloud.audit.VpcServiceControlAuditMetadata&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">OR&lt;/span> &lt;span class="n">protoPayload&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">details&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">violations&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;VPC_SERVICE_CONTROLS&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">AND&lt;/span> &lt;span class="n">severity&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">ERROR&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-çµæœã®ä¸¦ã³æ›¿ãˆã¨ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ">3. çµæœã®ä¸¦ã³æ›¿ãˆã¨ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
&lt;/h3>&lt;p>æ¤œç´¢çµæœã¯æ™‚ç³»åˆ—é †ã«ä¸¦ã³æ›¿ãˆã¦åˆ†æã—ã€å¿…è¦ã«å¿œã˜ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã™ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>CSVå½¢å¼&lt;/strong>: ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã§ã®åˆ†æç”¨&lt;/li>
&lt;li>&lt;strong>JSONå½¢å¼&lt;/strong>: ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«ã‚ˆã‚‹å¾Œç¶šå‡¦ç†ç”¨&lt;/li>
&lt;li>&lt;strong>BigQuery&lt;/strong>: å¤§è¦æ¨¡ãªãƒ­ã‚°åˆ†æç”¨&lt;/li>
&lt;/ul>
&lt;h2 id="ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ™‚ã®æ´»ç”¨æ–¹æ³•">ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ™‚ã®æ´»ç”¨æ–¹æ³•
&lt;/h2>&lt;h3 id="1-ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆå¯¾å¿œã§ã®ä½¿ç”¨">1. ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆå¯¾å¿œã§ã®ä½¿ç”¨
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç›´è¿‘1æ™‚é–“ã®VPC SCã‚¨ãƒ©ãƒ¼&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">timestamp&lt;/span>&lt;span class="o">&amp;gt;=&lt;/span>&lt;span class="s2">&amp;#34;2025-09-13T21:00:00Z&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">severity&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">ERROR&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">protoPayload&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">details&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">violations&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;VPC_SERVICE_CONTROLS&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="2-å®šæœŸçš„ãªç›£è¦–">2. å®šæœŸçš„ãªç›£è¦–
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç‰¹å®šã®ãƒªã‚½ãƒ¼ã‚¹ã«å¯¾ã™ã‚‹VPC SCé•å&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">protoPayload&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">resourceName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;projects/PROJECT_ID/buckets/BUCKET_NAME&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">protoPayload&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">metadata&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="err">@&lt;/span>&lt;span class="n">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;type.googleapis.com/google.cloud.audit.VpcServiceControlAuditMetadata&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ç›£æŸ»">3. ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ç›£æŸ»
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># éå»1ãƒ¶æœˆã®ã™ã¹ã¦ã®VPC SCé–¢é€£æ´»å‹•&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">timestamp&lt;/span>&lt;span class="o">&amp;gt;=&lt;/span>&lt;span class="s2">&amp;#34;2025-08-13T00:00:00Z&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">protoPayload&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">metadata&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="err">@&lt;/span>&lt;span class="n">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;type.googleapis.com/google.cloud.audit.VpcServiceControlAuditMetadata&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ã¾ã¨ã‚">ã¾ã¨ã‚
&lt;/h2>&lt;p>VPC Service Controls ã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã¯ã€å˜ãªã‚‹æ–‡å­—åˆ—ã§ã¯ãªãã€ãƒ­ã‚°ã®**æ§‹é€ ï¼ˆJSONï¼‰**ã‚’ç†è§£ã—ã¦ãƒ•ã‚£ãƒ«ã‚¿ã‚’ã‹ã‘ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰&lt;/th>
&lt;th>ç›®çš„&lt;/th>
&lt;th>ä½¿ç”¨å ´é¢&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>protoPayload.metadata.@type&lt;/code>&lt;/td>
&lt;td>æœ€ã‚‚æ­£ç¢ºãªã‚¿ã‚¤ãƒ—ã§ãƒ­ã‚°ã‚’çµã‚Šè¾¼ã‚€&lt;/td>
&lt;td>åŒ…æ‹¬çš„ãªèª¿æŸ»&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>protoPayload.status.details.violations.type&lt;/code>&lt;/td>
&lt;td>é•åã®ç¨®é¡ã‚’ç‰¹å®šã™ã‚‹&lt;/td>
&lt;td>ã‚¨ãƒ©ãƒ¼åˆ†æ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>protoPayload.status.message&lt;/code>&lt;/td>
&lt;td>ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…ã®å›ºæœ‰æ–‡å­—åˆ—ã‚’æ¤œç´¢ã™ã‚‹&lt;/td>
&lt;td>ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>ã“ã‚Œã‚‰ã®ãƒ•ã‚£ãƒ«ã‚¿ã‚’ä½¿ãˆã°ã€VPC SC ã®ã‚¨ãƒ©ãƒ¼èª¿æŸ»ãŒæ ¼æ®µã«åŠ¹ç‡åŒ–ã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚&lt;/p>
&lt;h3 id="æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—">æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
&lt;/h3>&lt;ol>
&lt;li>&lt;strong>è‡ªå‹•åŒ–&lt;/strong>: å®šæœŸçš„ãªãƒ­ã‚°ç›£è¦–ã‚’Cloud Functionsã§è‡ªå‹•åŒ–&lt;/li>
&lt;li>&lt;strong>å¯è¦–åŒ–&lt;/strong>: Cloud Monitoringã§VPC SCã‚¨ãƒ©ãƒ¼ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ä½œæˆ&lt;/li>
&lt;li>&lt;strong>ã‚¢ãƒ©ãƒ¼ãƒˆ&lt;/strong>: é‡è¦ãªVPC SCé•åã«å¯¾ã™ã‚‹ã‚¢ãƒ©ãƒ¼ãƒˆãƒãƒªã‚·ãƒ¼ã‚’è¨­å®š&lt;/li>
&lt;/ol>
&lt;p>VPC Service Controlsã¯çµ„ç¹”ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’å®ˆã‚‹é‡è¦ãªæ©Ÿèƒ½ã§ã™ã€‚é©åˆ‡ãªãƒ­ã‚°åˆ†æã«ã‚ˆã‚Šã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚¹ãƒãƒ£ã®å‘ä¸Šã¨è¿…é€Ÿãªå•é¡Œè§£æ±ºã‚’å®Ÿç¾ã§ãã¾ã™ã€‚&lt;/p>
&lt;hr>
&lt;p>&lt;strong>é–¢é€£è¨˜äº‹&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://firebird-techtalktech.com/tags/%e3%82%bb%e3%82%ad%e3%83%a5%e3%83%aa%e3%83%86%e3%82%a3/" >Google Cloudã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://firebird-techtalktech.com/tags/%e3%83%ad%e3%82%b0%e5%88%86%e6%9e%90/" >Cloud Loggingã®åŠ¹æœçš„ãªæ´»ç”¨æ–¹æ³•&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://firebird-techtalktech.com/categories/gcp/" >GCPãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å…¥é–€&lt;/a>&lt;/li>
&lt;/ul></description></item></channel></rss>